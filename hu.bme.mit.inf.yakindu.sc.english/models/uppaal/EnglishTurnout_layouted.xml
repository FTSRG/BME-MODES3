<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>const int STRAIGHT = 0;
const int DIVERGENT = 1;
const int TOP = 2;

bool isOccupied;

int id;

broadcast chan syncChan1;
broadcast chan syncChan2;
broadcast chan syncChan3;
broadcast chan syncChan4;

broadcast chan remPassageDeniedFrom[3];
broadcast chan remPassageAllowedTo[3];
broadcast chan remPassageRequestTo[3];
broadcast chan remSectionLockFrom[3];
broadcast chan sectionAllowedTo[3];
broadcast chan passingAllowedFromOtherHalfOUT;
broadcast chan remShortSectionLockFrom[3];
broadcast chan remPassingDeniedFromOtherHalfOUT;
broadcast chan remSectionLockFromOtherHalfOUT;
broadcast chan passingAllowedFromOtherHalfIN;
broadcast chan sectionLockFromOtherHalfIN;
broadcast chan sectionLockFromOtherHalfOUT;
broadcast chan remPassingDeniedFromOtherHalfIN;
broadcast chan passingDeniedFrom[3];
broadcast chan lockRequestTo[3];
broadcast chan remPassageAllowedFrom[3];
broadcast chan remPassageDeniedTo[3];
broadcast chan turnoutDivergent; // környezettől jön a váltónak
broadcast chan sectionLockedTo[3];
broadcast chan turnoutStraight; // környezettől jön a váltónak
broadcast chan sectionLockFrom[3];
broadcast chan passingDeniedFromOtherHalfIN;
broadcast chan passingAllowedFrom[3];
broadcast chan passingDeniedFromOtherHalfOUT;
broadcast chan sectionLockedWithReplyTo[3];
broadcast chan remSectionLockFromOtherHalfIN;
broadcast chan remPassingAllowedFromOtherHalfOUT;
broadcast chan remPassingAllowedFromOtherHalfIN;</declaration><template><name>HandlerStraightOfStraightTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id0" x="173" y="-168"><name x="163" y="-198">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id1" x="1416" y="-666"><name x="1406" y="-696">WithoutReceivedLock</name><label kind="comments">Simple state</label></location><location id="id2" x="571" y="-334"><name x="561" y="-364">WithReceivedLock</name><label kind="comments">Simple state</label></location><location id="id3" x="59" y="-334"><name x="49" y="-364">GeneratedInit</name></location><location id="id4" x="928" y="-500"><name x="918" y="-530">Raise_sectionLockedWithReplyTo9</name><committed/></location><location id="id5" x="571" y="-500"><name x="561" y="-530">Raise_sectionLockedWithReplyTo10</name><committed/></location><location id="id6" x="812" y="-168"><name x="802" y="-198">Raise_remPassageAllowedTo44</name><committed/></location><location id="id7" x="1209" y="-14"><name x="1199" y="-44">Raise_sectionLockedTo75</name><committed/></location><location id="id8" x="1125" y="-168"><name x="1115" y="-198">Raise_remPassageDeniedTo82</name><committed/></location><location id="id9" x="1844" y="-500"><name x="1834" y="-530">Raise_sectionLockedTo89</name><committed/></location><location id="id10" x="470" y="-168"><name x="460" y="-198">Raise_sectionLockedTo90</name><committed/></location><init ref="id3"/><transition><source ref="id1"/><target ref="id5"/><label kind="guard" x="759" y="-584">isActive</label><label kind="synchronisation" x="759" y="-569">remShortSectionLockFrom[DIVERGENT]?</label><nail x="1353" y="-656"/><nail x="1203" y="-627"/><nail x="826" y="-554"/><nail x="656" y="-521"/></transition><transition><source ref="id0"/><target ref="id7"/><label kind="guard" x="952" y="-88">isActive</label><nail x="202" y="-166"/><nail x="334" y="-147"/><nail x="901" y="-64"/><nail x="1121" y="-31"/></transition><transition><source ref="id1"/><target ref="id4"/><label kind="guard" x="1151" y="-584">isActive</label><label kind="synchronisation" x="1151" y="-569">remSectionLockFrom[DIVERGENT]?</label><nail x="1372" y="-654"/><nail x="1283" y="-624"/><nail x="1084" y="-557"/><nail x="985" y="-524"/></transition><transition><source ref="id2"/><target ref="id6"/><label kind="guard" x="849" y="-252">isActive</label><label kind="synchronisation" x="849" y="-237">passingAllowedFrom[DIVERGENT]?</label><nail x="595" y="-320"/><nail x="639" y="-291"/><nail x="730" y="-228"/><nail x="779" y="-195"/></transition><transition><source ref="id2"/><target ref="id8"/><label kind="guard" x="1184" y="-248">isActive</label><label kind="synchronisation" x="1168" y="-240">passingDeniedFrom[DIVERGENT]?</label><nail x="618" y="-323"/><nail x="718" y="-293"/><nail x="952" y="-224"/><nail x="1063" y="-191"/></transition><transition><source ref="id3"/><target ref="id0"/><label kind="synchronisation" x="101" y="-237">syncChan2?</label><label kind="assignment" x="101" y="-222">isActive = true</label><nail x="71" y="-320"/><nail x="91" y="-290"/><nail x="133" y="-231"/><nail x="156" y="-197"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="synchronisation" x="197" y="-415">syncChan2?</label><label kind="assignment" x="197" y="-400">isActive = true</label><nail x="1357" y="-656"/><nail x="1117" y="-600"/><nail x="238" y="-397"/><nail x="238" y="-397"/><nail x="238" y="-397"/><nail x="199" y="-259"/><nail x="181" y="-199"/></transition><transition><source ref="id2"/><target ref="id0"/><label kind="synchronisation" x="250" y="-237">syncChan2?</label><label kind="assignment" x="250" y="-222">isActive = true</label><nail x="535" y="-321"/><nail x="458" y="-290"/><nail x="280" y="-217"/><nail x="207" y="-186"/></transition><transition><source ref="id1"/><target ref="id1"/><label kind="synchronisation" x="1571" y="-658">syncChan4?</label><label kind="assignment" x="1571" y="-643">isActive = false</label><nail x="1466" y="-685"/><nail x="1497" y="-689"/><nail x="1527" y="-684"/><nail x="1527" y="-670"/><nail x="1527" y="-657"/><nail x="1503" y="-652"/><nail x="1476" y="-653"/></transition><transition><source ref="id2"/><target ref="id2"/><label kind="synchronisation" x="714" y="-326">syncChan4?</label><label kind="assignment" x="714" y="-311">isActive = false</label><nail x="615" y="-353"/><nail x="643" y="-357"/><nail x="671" y="-352"/><nail x="671" y="-338"/><nail x="671" y="-325"/><nail x="650" y="-320"/><nail x="625" y="-321"/></transition><transition><source ref="id4"/><target ref="id2"/><label kind="synchronisation" x="808" y="-432">sectionLockedWithReplyTo[DIVERGENT]!</label><nail x="892" y="-486"/><nail x="826" y="-456"/><nail x="685" y="-391"/><nail x="614" y="-358"/></transition><transition><source ref="id5"/><target ref="id2"/><label kind="synchronisation" x="472" y="-448">sectionLockedWithReplyTo[DIVERGENT]!</label><nail x="552" y="-494"/><nail x="552" y="-466"/><nail x="552" y="-409"/><nail x="552" y="-375"/></transition><transition><source ref="id6"/><target ref="id1"/><label kind="synchronisation" x="1120" y="-456">remPassageAllowedTo[DIVERGENT]!</label><nail x="845" y="-189"/><nail x="960" y="-251"/><nail x="1340" y="-457"/><nail x="1340" y="-457"/><nail x="1340" y="-457"/><nail x="1386" y="-584"/><nail x="1406" y="-642"/></transition><transition><source ref="id7"/><target ref="id1"/><label kind="synchronisation" x="1552" y="-328">sectionLockedTo[DIVERGENT]!</label><nail x="1231" y="-35"/><nail x="1317" y="-107"/><nail x="1630" y="-368"/><nail x="1630" y="-368"/><nail x="1630" y="-368"/><nail x="1487" y="-570"/><nail x="1435" y="-643"/></transition><transition><source ref="id8"/><target ref="id1"/><label kind="synchronisation" x="1328" y="-408">remPassageDeniedTo[DIVERGENT]!</label><nail x="1148" y="-189"/><nail x="1229" y="-252"/><nail x="1493" y="-457"/><nail x="1493" y="-457"/><nail x="1493" y="-457"/><nail x="1447" y="-584"/><nail x="1426" y="-642"/></transition><transition><source ref="id1"/><target ref="id9"/><label kind="synchronisation" x="1600" y="-600">sectionLockFrom[DIVERGENT]?</label><nail x="1456" y="-653"/><nail x="1534" y="-623"/><nail x="1707" y="-557"/><nail x="1794" y="-524"/></transition><transition><source ref="id9"/><target ref="id1"/><label kind="synchronisation" x="1624" y="-584">sectionLockedTo[DIVERGENT]!</label><nail x="1803" y="-520"/><nail x="1724" y="-551"/><nail x="1551" y="-617"/><nail x="1466" y="-650"/></transition><transition><source ref="id2"/><target ref="id10"/><label kind="synchronisation" x="392" y="-264">sectionLockFrom[DIVERGENT]?</label><nail x="561" y="-320"/><nail x="543" y="-291"/><nail x="507" y="-232"/><nail x="486" y="-198"/></transition><transition><source ref="id10"/><target ref="id2"/><label kind="synchronisation" x="456" y="-240">sectionLockedTo[DIVERGENT]!</label><nail x="481" y="-190"/><nail x="499" y="-218"/><nail x="535" y="-277"/><nail x="555" y="-311"/></transition></template><template><name>RemSectionLockFromOtherHalfOfStraightTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id11" x="131" y="-14"><name x="121" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id12" x="515" y="-180"><name x="505" y="-210">CheckStraight</name><label kind="comments">Simple state</label></location><location id="id13" x="447" y="-714"><name x="437" y="-744">Init</name><label kind="comments">Simple state</label></location><location id="id14" x="652" y="-536"><name x="642" y="-566">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id15" x="837" y="-1034"><name x="827" y="-1064">Choice1</name><label kind="comments">A choice</label><committed/></location><location id="id16" x="88" y="-180"><name x="78" y="-210">GeneratedInit</name></location><location id="id17" x="837" y="-880"><name x="827" y="-910">Raise_remPassingDeniedFromOtherHalfOUT6</name><committed/></location><location id="id18" x="657" y="-14"><name x="647" y="-44">Raise_remPassingDeniedFromOtherHalfOUT45</name><committed/></location><location id="id19" x="430" y="-358"><name x="420" y="-388">Raise_remPassingDeniedFromOtherHalfOUT58</name><committed/></location><location id="id20" x="735" y="-358"><name x="725" y="-388">Raise_lockRequestTo62</name><committed/></location><location id="id21" x="447" y="-880"><name x="437" y="-910">Raise_remPassingAllowedFromOtherHalfOUT85</name><committed/></location><init ref="id16"/><transition><source ref="id12"/><target ref="id18"/><label kind="guard" x="488" y="-112">isActive</label><label kind="synchronisation" x="368" y="-96">passingDeniedFrom[STRAIGHT]?</label><nail x="520" y="-104"/></transition><transition><source ref="id15"/><target ref="id17"/><label kind="guard" x="915" y="-964">isActive &amp;&amp; ( isOccupied )</label><nail x="837" y="-1019"/><nail x="837" y="-993"/><nail x="837" y="-943"/><nail x="837" y="-912"/></transition><transition><source ref="id15"/><target ref="id21"/><label kind="guard" x="734" y="-964">isActive</label><nail x="807" y="-1025"/><nail x="741" y="-999"/><nail x="581" y="-937"/><nail x="499" y="-905"/></transition><transition><source ref="id14"/><target ref="id19"/><label kind="guard" x="571" y="-454">isActive &amp;&amp; ( isOccupied )</label><nail x="633" y="-523"/><nail x="594" y="-493"/><nail x="505" y="-422"/><nail x="459" y="-386"/></transition><transition><source ref="id12"/><target ref="id18"/><label kind="guard" x="616" y="-104">isActive &amp;&amp; isOccupied</label><nail x="529" y="-166"/><nail x="554" y="-137"/><nail x="606" y="-77"/><nail x="635" y="-43"/></transition><transition><source ref="id12"/><target ref="id15"/><label kind="guard" x="1286" y="-632">isActive</label><label kind="synchronisation" x="1286" y="-617">passingAllowedFrom[STRAIGHT]?</label><nail x="536" y="-200"/><nail x="643" y="-285"/><nail x="1118" y="-659"/><nail x="1118" y="-659"/><nail x="1118" y="-659"/><nail x="918" y="-927"/><nail x="855" y="-1012"/></transition><transition><source ref="id14"/><target ref="id20"/><label kind="guard" x="712" y="-416">isActive</label><nail x="659" y="-522"/><nail x="674" y="-491"/><nail x="705" y="-425"/><nail x="722" y="-389"/></transition><transition><source ref="id11"/><target ref="id13"/><label kind="guard" x="203" y="-365">isActive</label><nail x="136" y="-35"/><nail x="156" y="-102"/><nail x="226" y="-332"/><nail x="226" y="-332"/><nail x="226" y="-332"/><nail x="382" y="-605"/><nail x="432" y="-692"/></transition><transition><source ref="id13"/><target ref="id14"/><label kind="guard" x="676" y="-632">isActive</label><label kind="synchronisation" x="676" y="-617">remSectionLockFromOtherHalfIN?</label><nail x="463" y="-703"/><nail x="498" y="-672"/><nail x="583" y="-599"/><nail x="626" y="-562"/></transition><transition><source ref="id16"/><target ref="id11"/><label kind="synchronisation" x="125" y="-83">syncChan2?</label><label kind="assignment" x="125" y="-68">isActive = true</label><nail x="92" y="-165"/><nail x="100" y="-137"/><nail x="115" y="-79"/><nail x="123" y="-45"/></transition><transition><source ref="id13"/><target ref="id11"/><label kind="synchronisation" x="41" y="-350">syncChan2?</label><label kind="assignment" x="41" y="-335">isActive = true</label><nail x="432" y="-702"/><nail x="363" y="-630"/><nail x="82" y="-332"/><nail x="82" y="-332"/><nail x="82" y="-332"/><nail x="114" y="-123"/><nail x="126" y="-46"/></transition><transition><source ref="id12"/><target ref="id11"/><label kind="synchronisation" x="288" y="-152">syncChan2?</label><label kind="assignment" x="280" y="-136">isActive = true</label><nail x="481" y="-168"/><nail x="408" y="-137"/><nail x="236" y="-63"/><nail x="163" y="-33"/></transition><transition><source ref="id13"/><target ref="id13"/><label kind="synchronisation" x="535" y="-706">syncChan4?</label><label kind="assignment" x="535" y="-691">isActive = false</label><nail x="464" y="-732"/><nail x="477" y="-737"/><nail x="492" y="-733"/><nail x="492" y="-718"/><nail x="492" y="-706"/><nail x="483" y="-701"/><nail x="473" y="-701"/></transition><transition><source ref="id12"/><target ref="id12"/><label kind="synchronisation" x="638" y="-172">syncChan4?</label><label kind="assignment" x="638" y="-157">isActive = false</label><nail x="549" y="-199"/><nail x="572" y="-203"/><nail x="594" y="-198"/><nail x="594" y="-184"/><nail x="594" y="-171"/><nail x="578" y="-166"/><nail x="559" y="-167"/></transition><transition><source ref="id17"/><target ref="id13"/><label kind="synchronisation" x="876" y="-795">remPassingDeniedFromOtherHalfOUT!</label><nail x="797" y="-866"/><nail x="719" y="-833"/><nail x="549" y="-762"/><nail x="478" y="-732"/></transition><transition><source ref="id18"/><target ref="id13"/><label kind="synchronisation" x="981" y="-350">remPassingDeniedFromOtherHalfOUT!</label><nail x="667" y="-36"/><nail x="710" y="-110"/><nail x="872" y="-392"/><nail x="872" y="-392"/><nail x="872" y="-392"/><nail x="564" y="-627"/><nail x="472" y="-698"/></transition><transition><source ref="id19"/><target ref="id13"/><label kind="synchronisation" x="484" y="-528">remPassingDeniedFromOtherHalfOUT!</label><nail x="425" y="-380"/><nail x="411" y="-430"/><nail x="375" y="-570"/><nail x="375" y="-570"/><nail x="375" y="-570"/><nail x="413" y="-648"/><nail x="434" y="-691"/></transition><transition><source ref="id20"/><target ref="id12"/><label kind="synchronisation" x="552" y="-304">lockRequestTo[STRAIGHT]!</label><nail x="713" y="-344"/><nail x="674" y="-312"/><nail x="587" y="-243"/><nail x="542" y="-207"/></transition><transition><source ref="id21"/><target ref="id13"/><label kind="synchronisation" x="560" y="-795">remPassingAllowedFromOtherHalfOUT!</label><nail x="447" y="-865"/><nail x="447" y="-837"/><nail x="447" y="-780"/><nail x="447" y="-746"/></transition></template><template><name>SectionLockFromOtherHalfOfDivergentTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id22" x="1326" y="-14"><name x="1316" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id23" x="640" y="-512"><name x="630" y="-542">CNeighbourTurnout</name><label kind="comments">Simple state</label></location><location id="id24" x="377" y="-998"><name x="367" y="-1028">CLocalDivergent</name><label kind="comments">Simple state</label></location><location id="id25" x="492" y="-180"><name x="482" y="-210">Init</name><label kind="comments">Simple state</label></location><location id="id26" x="558" y="-832"><name x="548" y="-862">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id27" x="1414" y="-180"><name x="1404" y="-210">GeneratedInit</name></location><location id="id28" x="632" y="-678"><name x="622" y="-708">Raise_remPassageRequestTo54</name><committed/></location><location id="id29" x="196" y="-755"><name x="186" y="-785">Raise_passingDeniedFromOtherHalfOUT67</name><committed/></location><location id="id30" x="424" y="-601"><name x="414" y="-631">Raise_passingAllowedFromOtherHalfOUT71</name><committed/></location><location id="id31" x="629" y="-346"><name x="619" y="-376">Raise_passingAllowedFromOtherHalfOUT77</name><committed/></location><location id="id32" x="186" y="-14"><name x="176" y="-44">Raise_sectionLockedWithReplyTo80</name><committed/></location><init ref="id27"/><transition><source ref="id23"/><target ref="id31"/><label kind="guard" x="520" y="-544">isActive</label><label kind="synchronisation" x="368" y="-504">remPassageAllowedFrom[DIVERGENT]?</label><nail x="490" y="-516"/></transition><transition><source ref="id24"/><target ref="id29"/><label kind="guard" x="160" y="-928">isActive</label><label kind="synchronisation" x="104" y="-904">passingDeniedFrom[DIVERGENT]?</label><nail x="332" y="-987"/><nail x="279" y="-970"/><nail x="196" y="-943"/><nail x="196" y="-943"/><nail x="196" y="-943"/><nail x="196" y="-839"/><nail x="196" y="-787"/></transition><transition><source ref="id25"/><target ref="id32"/><label kind="guard" x="522" y="-98">isActive</label><label kind="synchronisation" x="522" y="-83">sectionLockFromOtherHalfIN?</label><nail x="471" y="-171"/><nail x="421" y="-145"/><nail x="291" y="-75"/><nail x="225" y="-40"/></transition><transition><source ref="id26"/><target ref="id30"/><label kind="guard" x="503" y="-762">isActive &amp;&amp; ( id == 135 )</label><nail x="561" y="-817"/><nail x="566" y="-787"/><nail x="577" y="-729"/><nail x="577" y="-729"/><nail x="577" y="-729"/><nail x="498" y="-665"/><nail x="454" y="-629"/></transition><transition><source ref="id23"/><target ref="id31"/><label kind="guard" x="664" y="-448">isActive</label><label kind="synchronisation" x="624" y="-432">remPassageDeniedFrom[DIVERGENT]?</label><nail x="638" y="-497"/><nail x="636" y="-469"/><nail x="633" y="-412"/><nail x="630" y="-378"/></transition><transition><source ref="id26"/><target ref="id28"/><label kind="guard" x="738" y="-762">isActive</label><nail x="566" y="-818"/><nail x="579" y="-791"/><nail x="603" y="-740"/><nail x="619" y="-709"/></transition><transition><source ref="id22"/><target ref="id25"/><label kind="guard" x="869" y="-98">isActive</label><nail x="1298" y="-24"/><nail x="1174" y="-48"/><nail x="668" y="-148"/><nail x="528" y="-175"/></transition><transition><source ref="id24"/><target ref="id26"/><label kind="guard" x="722" y="-916">isActive</label><label kind="synchronisation" x="720" y="-904">passingAllowedFrom[DIVERGENT]?</label><nail x="395" y="-984"/><nail x="428" y="-954"/><nail x="496" y="-892"/><nail x="533" y="-859"/></transition><transition><source ref="id27"/><target ref="id22"/><label kind="synchronisation" x="1422" y="-83">syncChan1?</label><label kind="assignment" x="1422" y="-68">isActive = true</label><nail x="1404" y="-166"/><nail x="1389" y="-137"/><nail x="1357" y="-78"/><nail x="1339" y="-44"/></transition><transition><source ref="id23"/><target ref="id22"/><label kind="synchronisation" x="1367" y="-261">syncChan1?</label><label kind="assignment" x="1367" y="-246">isActive = true</label><nail x="687" y="-501"/><nail x="843" y="-452"/><nail x="1326" y="-303"/><nail x="1326" y="-303"/><nail x="1336" y="-272"/><nail x="1326" y="-118"/><nail x="1326" y="-46"/></transition><transition><source ref="id25"/><target ref="id22"/><label kind="synchronisation" x="1176" y="-83">syncChan1?</label><label kind="assignment" x="1176" y="-68">isActive = true</label><nail x="517" y="-177"/><nail x="638" y="-154"/><nail x="1145" y="-54"/><nail x="1288" y="-26"/></transition><transition><source ref="id24"/><target ref="id22"/><label kind="synchronisation" x="1543" y="-504">syncChan1?</label><label kind="assignment" x="1543" y="-489">isActive = true</label><nail x="415" y="-986"/><nail x="611" y="-906"/><nail x="1502" y="-546"/><nail x="1502" y="-546"/><nail x="1502" y="-546"/><nail x="1371" y="-153"/><nail x="1335" y="-45"/></transition><transition><source ref="id23"/><target ref="id23"/><label kind="synchronisation" x="785" y="-504">syncChan3?</label><label kind="assignment" x="785" y="-489">isActive = false</label><nail x="685" y="-531"/><nail x="714" y="-535"/><nail x="742" y="-530"/><nail x="742" y="-516"/><nail x="742" y="-503"/><nail x="720" y="-498"/><nail x="695" y="-499"/></transition><transition><source ref="id25"/><target ref="id25"/><label kind="synchronisation" x="580" y="-172">syncChan3?</label><label kind="assignment" x="580" y="-157">isActive = false</label><nail x="509" y="-198"/><nail x="522" y="-203"/><nail x="537" y="-199"/><nail x="537" y="-184"/><nail x="537" y="-172"/><nail x="528" y="-167"/><nail x="518" y="-167"/></transition><transition><source ref="id24"/><target ref="id24"/><label kind="synchronisation" x="510" y="-990">syncChan3?</label><label kind="assignment" x="510" y="-975">isActive = false</label><nail x="416" y="-1017"/><nail x="442" y="-1021"/><nail x="467" y="-1016"/><nail x="467" y="-1002"/><nail x="467" y="-989"/><nail x="448" y="-984"/><nail x="426" y="-985"/></transition><transition><source ref="id28"/><target ref="id23"/><label kind="synchronisation" x="701" y="-593">remPassageRequestTo[DIVERGENT]!</label><nail x="632" y="-663"/><nail x="634" y="-635"/><nail x="637" y="-578"/><nail x="638" y="-544"/></transition><transition><source ref="id29"/><target ref="id25"/><label kind="synchronisation" x="176" y="-384">passingDeniedFromOtherHalfOUT!</label><nail x="209" y="-740"/><nail x="253" y="-679"/><nail x="392" y="-486"/><nail x="392" y="-486"/><nail x="392" y="-486"/><nail x="458" y="-286"/><nail x="482" y="-211"/></transition><transition><source ref="id30"/><target ref="id25"/><label kind="synchronisation" x="336" y="-400">passingAllowedFromOtherHalfOUT!</label><nail x="422" y="-586"/><nail x="419" y="-547"/><nail x="413" y="-457"/><nail x="413" y="-457"/><nail x="413" y="-457"/><nail x="463" y="-281"/><nail x="483" y="-211"/></transition><transition><source ref="id31"/><target ref="id25"/><label kind="synchronisation" x="691" y="-261">passingAllowedFromOtherHalfOUT!</label><nail x="614" y="-331"/><nail x="589" y="-302"/><nail x="538" y="-241"/><nail x="511" y="-207"/></transition><transition><source ref="id32"/><target ref="id24"/><label kind="synchronisation" x="80" y="-504">sectionLockedWithReplyTo[DIVERGENT]!</label><nail x="184" y="-36"/><nail x="180" y="-122"/><nail x="160" y="-486"/><nail x="160" y="-486"/><nail x="160" y="-486"/><nail x="320" y="-867"/><nail x="365" y="-974"/></transition></template><template><name>RemSectionLockFromOtherHalfOfDivergentTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id33" x="1498" y="-168"><name x="1488" y="-198">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id34" x="611" y="-334"><name x="601" y="-364">CheckDivergent</name><label kind="comments">Simple state</label></location><location id="id35" x="979" y="-868"><name x="969" y="-898">Init</name><label kind="comments">Simple state</label></location><location id="id36" x="229" y="-168"><name x="219" y="-198">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id37" x="750" y="-690"><name x="740" y="-720">Choice1</name><label kind="comments">A choice</label><committed/></location><location id="id38" x="1625" y="-334"><name x="1615" y="-364">GeneratedInit</name></location><location id="id39" x="756" y="-512"><name x="746" y="-542">Raise_lockRequestTo4</name><committed/></location><location id="id40" x="781" y="-168"><name x="771" y="-198">Raise_remPassingDeniedFromOtherHalfOUT17</name><committed/></location><location id="id41" x="898" y="-14"><name x="888" y="-44">Raise_remPassingAllowedFromOtherHalfOUT25</name><committed/></location><location id="id42" x="185" y="-14"><name x="175" y="-44">Raise_remPassingDeniedFromOtherHalfOUT35</name><committed/></location><location id="id43" x="456" y="-512"><name x="446" y="-542">Raise_remPassingDeniedFromOtherHalfOUT37</name><committed/></location><init ref="id38"/><transition><source ref="id34"/><target ref="id40"/><label kind="guard" x="616" y="-248">isActive</label><label kind="synchronisation" x="496" y="-224">passingDeniedFrom[DIVERGENT]?</label><nail x="632" y="-248"/></transition><transition><source ref="id35"/><target ref="id37"/><label kind="guard" x="869" y="-786">isActive</label><label kind="synchronisation" x="869" y="-771">remSectionLockFromOtherHalfIN?</label><nail x="962" y="-857"/><nail x="923" y="-827"/><nail x="826" y="-753"/><nail x="778" y="-716"/></transition><transition><source ref="id36"/><target ref="id42"/><label kind="guard" x="293" y="-98">isActive &amp;&amp; ( isOccupied )</label><nail x="224" y="-153"/><nail x="217" y="-127"/><nail x="202" y="-77"/><nail x="193" y="-46"/></transition><transition><source ref="id37"/><target ref="id43"/><label kind="guard" x="669" y="-608">isActive &amp;&amp; ( isOccupied )</label><nail x="727" y="-678"/><nail x="676" y="-648"/><nail x="555" y="-575"/><nail x="493" y="-539"/></transition><transition><source ref="id36"/><target ref="id41"/><label kind="guard" x="705" y="-98">isActive</label><nail x="265" y="-162"/><nail x="369" y="-139"/><nail x="673" y="-70"/><nail x="819" y="-37"/></transition><transition><source ref="id34"/><target ref="id36"/><label kind="guard" x="352" y="-288">isActive</label><label kind="synchronisation" x="336" y="-272">passingAllowedFrom[DIVERGENT]?</label><nail x="577" y="-322"/><nail x="506" y="-291"/><nail x="341" y="-221"/><nail x="267" y="-189"/></transition><transition><source ref="id37"/><target ref="id39"/><label kind="guard" x="858" y="-608">isActive</label><nail x="751" y="-675"/><nail x="752" y="-645"/><nail x="754" y="-581"/><nail x="755" y="-544"/></transition><transition><source ref="id34"/><target ref="id40"/><label kind="guard" x="688" y="-272">isActive &amp;&amp; ( isOccupied )</label><nail x="629" y="-320"/><nail x="659" y="-291"/><nail x="721" y="-231"/><nail x="756" y="-197"/></transition><transition><source ref="id33"/><target ref="id35"/><label kind="guard" x="1560" y="-519">isActive</label><nail x="1500" y="-190"/><nail x="1508" y="-264"/><nail x="1537" y="-546"/><nail x="1537" y="-546"/><nail x="1537" y="-546"/><nail x="1123" y="-787"/><nail x="1009" y="-854"/></transition><transition><source ref="id38"/><target ref="id33"/><label kind="synchronisation" x="1629" y="-237">syncChan1?</label><label kind="assignment" x="1629" y="-222">isActive = true</label><nail x="1613" y="-320"/><nail x="1590" y="-291"/><nail x="1543" y="-230"/><nail x="1517" y="-196"/></transition><transition><source ref="id34"/><target ref="id33"/><label kind="synchronisation" x="1316" y="-237">syncChan1?</label><label kind="assignment" x="1316" y="-222">isActive = true</label><nail x="666" y="-326"/><nail x="831" y="-296"/><nail x="1321" y="-205"/><nail x="1461" y="-179"/></transition><transition><source ref="id35"/><target ref="id33"/><label kind="synchronisation" x="1460" y="-504">syncChan1?</label><label kind="assignment" x="1460" y="-489">isActive = true</label><nail x="997" y="-858"/><nail x="1080" y="-797"/><nail x="1419" y="-546"/><nail x="1419" y="-546"/><nail x="1419" y="-546"/><nail x="1474" y="-286"/><nail x="1492" y="-199"/></transition><transition><source ref="id34"/><target ref="id34"/><label kind="synchronisation" x="742" y="-326">syncChan3?</label><label kind="assignment" x="742" y="-311">isActive = false</label><nail x="649" y="-353"/><nail x="674" y="-357"/><nail x="698" y="-352"/><nail x="698" y="-338"/><nail x="698" y="-325"/><nail x="680" y="-320"/><nail x="659" y="-321"/></transition><transition><source ref="id35"/><target ref="id35"/><label kind="synchronisation" x="1068" y="-860">syncChan3?</label><label kind="assignment" x="1068" y="-845">isActive = false</label><nail x="996" y="-886"/><nail x="1010" y="-891"/><nail x="1024" y="-887"/><nail x="1024" y="-872"/><nail x="1024" y="-860"/><nail x="1016" y="-855"/><nail x="1006" y="-855"/></transition><transition><source ref="id39"/><target ref="id34"/><label kind="synchronisation" x="624" y="-456">lockRequestTo[DIVERGENT]!</label><nail x="742" y="-498"/><nail x="717" y="-466"/><nail x="662" y="-400"/><nail x="632" y="-363"/></transition><transition><source ref="id40"/><target ref="id35"/><label kind="synchronisation" x="1088" y="-504">remPassingDeniedFromOtherHalfOUT!</label><nail x="791" y="-190"/><nail x="830" y="-264"/><nail x="979" y="-546"/><nail x="979" y="-546"/><nail x="979" y="-546"/><nail x="979" y="-763"/><nail x="979" y="-843"/></transition><transition><source ref="id41"/><target ref="id35"/><label kind="synchronisation" x="1331" y="-415">remPassingAllowedFromOtherHalfOUT!</label><nail x="912" y="-36"/><nail x="972" y="-118"/><nail x="1218" y="-457"/><nail x="1218" y="-457"/><nail x="1218" y="-457"/><nail x="1047" y="-755"/><nail x="994" y="-846"/></transition><transition><source ref="id42"/><target ref="id35"/><label kind="synchronisation" x="269" y="-415">remPassingDeniedFromOtherHalfOUT!</label><nail x="195" y="-36"/><nail x="233" y="-111"/><nail x="378" y="-397"/><nail x="378" y="-397"/><nail x="378" y="-397"/><nail x="839" y="-761"/><nail x="954" y="-851"/></transition><transition><source ref="id43"/><target ref="id35"/><label kind="synchronisation" x="576" y="-682">remPassingDeniedFromOtherHalfOUT!</label><nail x="484" y="-533"/><nail x="545" y="-573"/><nail x="685" y="-664"/><nail x="685" y="-664"/><nail x="685" y="-664"/><nail x="880" y="-801"/><nail x="952" y="-852"/></transition></template><template><name>SectionLockFromStraightOfStraightTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id44" x="135" y="-14"><name x="125" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id45" x="230" y="-512"><name x="220" y="-542">Init</name><label kind="comments">Simple state</label></location><location id="id46" x="402" y="-180"><name x="392" y="-210">CheckNeighbourTurnout</name><label kind="comments">Simple state</label></location><location id="id47" x="288" y="-844"><name x="278" y="-874">CheckOtherSide</name><label kind="comments">Simple state</label></location><location id="id48" x="223" y="-180"><name x="213" y="-210">GeneratedInit</name></location><location id="id49" x="169" y="-678"><name x="159" y="-708">Raise_sectionLockedTo31</name><committed/></location><location id="id50" x="369" y="-346"><name x="359" y="-376">Raise_remPassageRequestTo59</name><committed/></location><location id="id51" x="968" y="-14"><name x="958" y="-44">Raise_sectionLockFromOtherHalfOUT72</name><committed/></location><location id="id52" x="528" y="-14"><name x="518" y="-44">Raise_sectionLockedTo81</name><committed/></location><location id="id53" x="407" y="-678"><name x="397" y="-708">Raise_sectionAllowedTo84</name><committed/></location><init ref="id48"/><transition><source ref="id47"/><target ref="id49"/><label kind="guard" x="277" y="-762">isActive</label><label kind="synchronisation" x="277" y="-747">passingDeniedFromOtherHalfIN?</label><nail x="275" y="-830"/><nail x="254" y="-801"/><nail x="212" y="-742"/><nail x="187" y="-708"/></transition><transition><source ref="id44"/><target ref="id45"/><label kind="guard" x="225" y="-276">isActive</label><nail x="139" y="-35"/><nail x="153" y="-98"/><nail x="202" y="-303"/><nail x="202" y="-303"/><nail x="202" y="-303"/><nail x="218" y="-430"/><nail x="226" y="-487"/></transition><transition><source ref="id46"/><target ref="id52"/><label kind="guard" x="408" y="-136">isActive</label><label kind="synchronisation" x="336" y="-128">remPassageDeniedFrom[STRAIGHT]?</label><nail x="415" y="-166"/><nail x="437" y="-137"/><nail x="482" y="-77"/><nail x="508" y="-44"/></transition><transition><source ref="id46"/><target ref="id51"/><label kind="guard" x="720" y="-112">isActive</label><label kind="synchronisation" x="656" y="-96">remPassageAllowedFrom[STRAIGHT]?</label><nail x="452" y="-168"/><nail x="555" y="-138"/><nail x="788" y="-70"/><nail x="902" y="-37"/></transition><transition><source ref="id47"/><target ref="id53"/><label kind="guard" x="508" y="-762">isActive</label><label kind="synchronisation" x="508" y="-747">passingAllowedFromOtherHalfIN?</label><nail x="300" y="-830"/><nail x="321" y="-801"/><nail x="363" y="-742"/><nail x="388" y="-708"/></transition><transition><source ref="id45"/><target ref="id50"/><label kind="guard" x="320" y="-440">isActive</label><label kind="synchronisation" x="280" y="-424">sectionLockFrom[STRAIGHT]?</label><nail x="242" y="-499"/><nail x="266" y="-471"/><nail x="318" y="-410"/><nail x="347" y="-375"/></transition><transition><source ref="id48"/><target ref="id44"/><label kind="synchronisation" x="210" y="-83">syncChan2?</label><label kind="assignment" x="210" y="-68">isActive = true</label><nail x="213" y="-166"/><nail x="198" y="-137"/><nail x="166" y="-78"/><nail x="148" y="-44"/></transition><transition><source ref="id45"/><target ref="id44"/><label kind="synchronisation" x="138" y="-261">syncChan2?</label><label kind="assignment" x="138" y="-246">isActive = true</label><nail x="226" y="-498"/><nail x="215" y="-437"/><nail x="179" y="-243"/><nail x="179" y="-243"/><nail x="179" y="-243"/><nail x="152" y="-106"/><nail x="140" y="-46"/></transition><transition><source ref="id47"/><target ref="id44"/><label kind="synchronisation" x="41" y="-415">syncChan2?</label><label kind="assignment" x="41" y="-400">isActive = true</label><nail x="279" y="-830"/><nail x="241" y="-746"/><nail x="82" y="-397"/><nail x="82" y="-397"/><nail x="82" y="-397"/><nail x="118" y="-133"/><nail x="131" y="-46"/></transition><transition><source ref="id46"/><target ref="id44"/><label kind="synchronisation" x="334" y="-83">syncChan2?</label><label kind="assignment" x="334" y="-68">isActive = true</label><nail x="374" y="-166"/><nail x="324" y="-135"/><nail x="215" y="-68"/><nail x="163" y="-36"/></transition><transition><source ref="id45"/><target ref="id45"/><label kind="synchronisation" x="318" y="-504">syncChan4?</label><label kind="assignment" x="318" y="-489">isActive = false</label><nail x="247" y="-530"/><nail x="260" y="-535"/><nail x="275" y="-531"/><nail x="275" y="-516"/><nail x="275" y="-504"/><nail x="266" y="-499"/><nail x="256" y="-499"/></transition><transition><source ref="id47"/><target ref="id47"/><label kind="synchronisation" x="420" y="-836">syncChan4?</label><label kind="assignment" x="420" y="-821">isActive = false</label><nail x="326" y="-863"/><nail x="352" y="-867"/><nail x="376" y="-862"/><nail x="376" y="-848"/><nail x="376" y="-835"/><nail x="358" y="-830"/><nail x="336" y="-831"/></transition><transition><source ref="id46"/><target ref="id46"/><label kind="synchronisation" x="564" y="-172">syncChan4?</label><label kind="assignment" x="564" y="-157">isActive = false</label><nail x="455" y="-199"/><nail x="489" y="-203"/><nail x="521" y="-197"/><nail x="521" y="-184"/><nail x="521" y="-171"/><nail x="495" y="-166"/><nail x="465" y="-167"/></transition><transition><source ref="id49"/><target ref="id45"/><label kind="synchronisation" x="104" y="-608">sectionLockedTo[STRAIGHT]!</label><nail x="175" y="-663"/><nail x="186" y="-635"/><nail x="207" y="-577"/><nail x="220" y="-543"/></transition><transition><source ref="id50"/><target ref="id46"/><label kind="synchronisation" x="360" y="-280">remPassageRequestTo[STRAIGHT]!</label><nail x="372" y="-331"/><nail x="378" y="-303"/><nail x="389" y="-246"/><nail x="396" y="-212"/></transition><transition><source ref="id51"/><target ref="id47"/><label kind="synchronisation" x="1248" y="-415">sectionLockFromOtherHalfOUT!</label><nail x="975" y="-36"/><nail x="1011" y="-118"/><nail x="1156" y="-457"/><nail x="1156" y="-457"/><nail x="1156" y="-457"/><nail x="508" y="-748"/><nail x="332" y="-828"/></transition><transition><source ref="id52"/><target ref="id45"/><label kind="synchronisation" x="797" y="-261">sectionLockedTo[STRAIGHT]!</label><nail x="542" y="-36"/><nail x="590" y="-99"/><nail x="747" y="-303"/><nail x="747" y="-303"/><nail x="747" y="-303"/><nail x="376" y="-455"/><nail x="262" y="-502"/></transition><transition><source ref="id53"/><target ref="id45"/><label kind="synchronisation" x="320" y="-616">sectionAllowedTo[STRAIGHT]!</label><nail x="388" y="-664"/><nail x="356" y="-633"/><nail x="288" y="-571"/><nail x="252" y="-538"/></transition></template><template><name>HandlerDivergentOfDivergentTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id54" x="1370" y="-168"><name x="1360" y="-198">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id55" x="1200" y="-666"><name x="1190" y="-696">WithoutReceivedLock</name><label kind="comments">Simple state</label></location><location id="id56" x="925" y="-334"><name x="915" y="-364">WithReceivedLock</name><label kind="comments">Simple state</label></location><location id="id57" x="1482" y="-334"><name x="1472" y="-364">GeneratedInit</name></location><location id="id58" x="479" y="-168"><name x="469" y="-198">Raise_remPassageAllowedTo21</name><committed/></location><location id="id59" x="1462" y="-14"><name x="1452" y="-44">Raise_sectionLockedTo22</name><committed/></location><location id="id60" x="668" y="-500"><name x="658" y="-530">Raise_sectionLockedWithReplyTo23</name><committed/></location><location id="id61" x="123" y="-168"><name x="113" y="-198">Raise_remPassageDeniedTo38</name><committed/></location><location id="id62" x="994" y="-500"><name x="984" y="-530">Raise_sectionLockedWithReplyTo86</name><committed/></location><location id="id63" x="1787" y="-500"><name x="1777" y="-530">Raise_sectionLockedTo87</name><committed/></location><location id="id64" x="1049" y="-168"><name x="1039" y="-198">Raise_sectionLockedTo88</name><committed/></location><init ref="id57"/><transition><source ref="id55"/><target ref="id60"/><label kind="guard" x="826" y="-584">isActive</label><label kind="synchronisation" x="826" y="-569">remSectionLockFrom[STRAIGHT]?</label><nail x="1153" y="-654"/><nail x="1056" y="-624"/><nail x="837" y="-557"/><nail x="729" y="-523"/></transition><transition><source ref="id56"/><target ref="id58"/><label kind="guard" x="680" y="-256">isActive</label><label kind="synchronisation" x="656" y="-240">passingAllowedFrom[STRAIGHT]?</label><nail x="885" y="-322"/><nail x="804" y="-292"/><nail x="623" y="-225"/><nail x="532" y="-192"/></transition><transition><source ref="id56"/><target ref="id61"/><label kind="guard" x="374" y="-252">isActive</label><label kind="synchronisation" x="374" y="-237">passingDeniedFrom[STRAIGHT]?</label><nail x="867" y="-325"/><nail x="726" y="-296"/><nail x="362" y="-221"/><nail x="201" y="-189"/></transition><transition><source ref="id55"/><target ref="id62"/><label kind="guard" x="1194" y="-584">isActive</label><label kind="synchronisation" x="1194" y="-569">remShortSectionLockFrom[STRAIGHT]?</label><nail x="1179" y="-652"/><nail x="1142" y="-622"/><nail x="1065" y="-561"/><nail x="1023" y="-528"/></transition><transition><source ref="id54"/><target ref="id59"/><label kind="guard" x="1400" y="-120">isActive</label><nail x="1380" y="-154"/><nail x="1396" y="-128"/><nail x="1427" y="-76"/><nail x="1446" y="-44"/></transition><transition><source ref="id57"/><target ref="id54"/><label kind="synchronisation" x="1486" y="-237">syncChan1?</label><label kind="assignment" x="1486" y="-222">isActive = true</label><nail x="1470" y="-320"/><nail x="1451" y="-290"/><nail x="1410" y="-231"/><nail x="1387" y="-197"/></transition><transition><source ref="id56"/><target ref="id54"/><label kind="synchronisation" x="1339" y="-237">syncChan1?</label><label kind="assignment" x="1339" y="-222">isActive = true</label><nail x="965" y="-322"/><nail x="1051" y="-290"/><nail x="1255" y="-215"/><nail x="1336" y="-185"/></transition><transition><source ref="id55"/><target ref="id54"/><label kind="synchronisation" x="1435" y="-415">syncChan1?</label><label kind="assignment" x="1435" y="-400">isActive = true</label><nail x="1216" y="-652"/><nail x="1263" y="-601"/><nail x="1394" y="-457"/><nail x="1394" y="-457"/><nail x="1394" y="-457"/><nail x="1378" y="-272"/><nail x="1372" y="-200"/></transition><transition><source ref="id56"/><target ref="id56"/><label kind="synchronisation" x="1068" y="-326">syncChan3?</label><label kind="assignment" x="1068" y="-311">isActive = false</label><nail x="969" y="-353"/><nail x="997" y="-357"/><nail x="1024" y="-352"/><nail x="1024" y="-338"/><nail x="1024" y="-325"/><nail x="1003" y="-320"/><nail x="979" y="-321"/></transition><transition><source ref="id55"/><target ref="id55"/><label kind="synchronisation" x="1354" y="-658">syncChan3?</label><label kind="assignment" x="1354" y="-643">isActive = false</label><nail x="1250" y="-685"/><nail x="1281" y="-689"/><nail x="1311" y="-684"/><nail x="1311" y="-670"/><nail x="1311" y="-657"/><nail x="1287" y="-652"/><nail x="1260" y="-653"/></transition><transition><source ref="id58"/><target ref="id55"/><label kind="synchronisation" x="288" y="-376">remPassageAllowedTo[STRAIGHT]!</label><nail x="465" y="-190"/><nail x="425" y="-243"/><nail x="309" y="-397"/><nail x="309" y="-397"/><nail x="309" y="-397"/><nail x="941" y="-590"/><nail x="1140" y="-651"/></transition><transition><source ref="id59"/><target ref="id55"/><label kind="synchronisation" x="1628" y="-326">sectionLockedTo[STRAIGHT]!</label><nail x="1468" y="-36"/><nail x="1492" y="-108"/><nail x="1578" y="-368"/><nail x="1578" y="-368"/><nail x="1578" y="-368"/><nail x="1319" y="-574"/><nail x="1230" y="-646"/></transition><transition><source ref="id60"/><target ref="id56"/><label kind="synchronisation" x="640" y="-440">sectionLockedWithReplyTo[STRAIGHT]!</label><nail x="695" y="-486"/><nail x="742" y="-456"/><nail x="839" y="-393"/><nail x="891" y="-360"/></transition><transition><source ref="id61"/><target ref="id55"/><label kind="synchronisation" x="95" y="-415">remPassageDeniedTo[STRAIGHT]!</label><nail x="126" y="-190"/><nail x="133" y="-243"/><nail x="156" y="-397"/><nail x="156" y="-397"/><nail x="156" y="-397"/><nail x="906" y="-593"/><nail x="1135" y="-652"/></transition><transition><source ref="id62"/><target ref="id56"/><label kind="synchronisation" x="952" y="-440">sectionLockedWithReplyTo[STRAIGHT]!</label><nail x="987" y="-485"/><nail x="975" y="-457"/><nail x="950" y="-399"/><nail x="936" y="-365"/></transition><transition><source ref="id55"/><target ref="id63"/><label kind="synchronisation" x="1584" y="-600">sectionLockFrom[STRAIGHT]?</label><nail x="1251" y="-654"/><nail x="1358" y="-624"/><nail x="1607" y="-555"/><nail x="1724" y="-522"/></transition><transition><source ref="id63"/><target ref="id55"/><label kind="synchronisation" x="1592" y="-584">sectionLockedTo[STRAIGHT]!</label><nail x="1734" y="-519"/><nail x="1625" y="-550"/><nail x="1375" y="-619"/><nail x="1260" y="-652"/></transition><transition><source ref="id56"/><target ref="id64"/><label kind="synchronisation" x="1000" y="-256">sectionLockFrom[STRAIGHT]?</label><nail x="938" y="-320"/><nail x="960" y="-291"/><nail x="1004" y="-231"/><nail x="1030" y="-198"/></transition><transition><source ref="id64"/><target ref="id56"/><label kind="synchronisation" x="1016" y="-232">sectionLockedTo[STRAIGHT]!</label><nail x="1036" y="-190"/><nail x="1014" y="-219"/><nail x="969" y="-278"/><nail x="944" y="-312"/></transition></template><template><name>RemSectionLockFromStraightOfStraightTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id65" x="1178" y="-1544"><name x="1168" y="-1574">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id66" x="923" y="-844"><name x="913" y="-874">CheckLocalStraight</name><label kind="comments">Simple state</label></location><location id="id67" x="1100" y="-334"><name x="1090" y="-364">CheckTop</name><label kind="comments">Simple state</label></location><location id="id68" x="551" y="-1378"><name x="541" y="-1408">Init</name><label kind="comments">Simple state</label></location><location id="id69" x="1091" y="-666"><name x="1081" y="-696">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id70" x="650" y="-1200"><name x="640" y="-1230">Choice1</name><label kind="comments">A choice</label><committed/></location><location id="id71" x="1100" y="-168"><name x="1090" y="-198">Choice2</name><label kind="comments">A choice</label><committed/></location><location id="id72" x="1178" y="-1698"><name x="1168" y="-1728">GeneratedInit</name></location><location id="id73" x="323" y="-168"><name x="313" y="-198">Raise_remPassageDeniedTo1</name><committed/></location><location id="id74" x="1298" y="-14"><name x="1288" y="-44">Raise_remPassageAllowedTo8</name><committed/></location><location id="id75" x="593" y="-14"><name x="583" y="-44">Raise_remPassageDeniedTo29</name><committed/></location><location id="id76" x="925" y="-500"><name x="915" y="-530">Raise_remPassageDeniedTo39</name><committed/></location><location id="id77" x="695" y="-1022"><name x="685" y="-1052">Raise_remPassageDeniedTo41</name><committed/></location><location id="id78" x="984" y="-1022"><name x="974" y="-1052">Raise_sectionLockedWithReplyTo56</name><committed/></location><location id="id79" x="697" y="-168"><name x="687" y="-198">Raise_remPassageDeniedTo66</name><committed/></location><location id="id80" x="1245" y="-500"><name x="1235" y="-530">Raise_remSectionLockFromOtherHalfOUT70</name><committed/></location><location id="id81" x="456" y="-666"><name x="446" y="-696">Raise_remPassageDeniedTo83</name><committed/></location><init ref="id72"/><transition><source ref="id66"/><target ref="id81"/><label kind="guard" x="640" y="-864">isActive</label><label kind="synchronisation" x="584" y="-848">passingDeniedFrom[STRAIGHT]?</label><nail x="768" y="-872"/></transition><transition><source ref="id65"/><target ref="id68"/><label kind="guard" x="969" y="-1474">isActive</label><nail x="1151" y="-1540"/><nail x="1051" y="-1513"/><nail x="698" y="-1421"/><nail x="585" y="-1392"/></transition><transition><source ref="id69"/><target ref="id80"/><label kind="guard" x="1319" y="-584">isActive</label><nail x="1106" y="-652"/><nail x="1132" y="-624"/><nail x="1189" y="-564"/><nail x="1221" y="-529"/></transition><transition><source ref="id71"/><target ref="id75"/><label kind="guard" x="792" y="-120">isActive &amp;&amp; ( isOccupied )</label><nail x="1067" y="-161"/><nail x="983" y="-136"/><nail x="762" y="-69"/><nail x="654" y="-37"/></transition><transition><source ref="id70"/><target ref="id77"/><label kind="guard" x="632" y="-1120">isActive &amp;&amp; ( isOccupied )</label><nail x="654" y="-1185"/><nail x="662" y="-1155"/><nail x="678" y="-1090"/><nail x="688" y="-1053"/></transition><transition><source ref="id67"/><target ref="id71"/><label kind="guard" x="1205" y="-252">isActive</label><label kind="synchronisation" x="1205" y="-237">remPassingAllowedFromOtherHalfIN?</label><nail x="1100" y="-319"/><nail x="1100" y="-291"/><nail x="1100" y="-234"/><nail x="1100" y="-200"/></transition><transition><source ref="id67"/><target ref="id73"/><label kind="guard" x="643" y="-252">isActive &amp;&amp; ( isOccupied )</label><nail x="1057" y="-328"/><nail x="932" y="-301"/><nail x="560" y="-223"/><nail x="399" y="-189"/></transition><transition><source ref="id67"/><target ref="id79"/><label kind="guard" x="880" y="-248">isActive</label><label kind="synchronisation" x="848" y="-232">remPassingDeniedFromOtherHalfIN?</label><nail x="1068" y="-323"/><nail x="997" y="-295"/><nail x="829" y="-226"/><nail x="745" y="-192"/></transition><transition><source ref="id70"/><target ref="id78"/><label kind="guard" x="792" y="-1144">isActive</label><nail x="675" y="-1189"/><nail x="732" y="-1159"/><nail x="873" y="-1085"/><nail x="943" y="-1048"/></transition><transition><source ref="id71"/><target ref="id74"/><label kind="guard" x="1216" y="-104">isActive</label><nail x="1119" y="-155"/><nail x="1154" y="-129"/><nail x="1226" y="-73"/><nail x="1267" y="-42"/></transition><transition><source ref="id66"/><target ref="id81"/><label kind="guard" x="680" y="-784">isActive &amp;&amp; ( isOccupied )</label><nail x="883" y="-832"/><nail x="799" y="-800"/><nail x="602" y="-726"/><nail x="508" y="-690"/></transition><transition><source ref="id68"/><target ref="id70"/><label kind="guard" x="786" y="-1296">isActive</label><label kind="synchronisation" x="786" y="-1281">remSectionLockFrom[STRAIGHT]?</label><nail x="560" y="-1364"/><nail x="577" y="-1334"/><nail x="614" y="-1267"/><nail x="635" y="-1230"/></transition><transition><source ref="id66"/><target ref="id69"/><label kind="guard" x="1200" y="-762">isActive</label><label kind="synchronisation" x="1200" y="-747">passingAllowedFrom[STRAIGHT]?</label><nail x="939" y="-830"/><nail x="969" y="-798"/><nail x="1034" y="-730"/><nail x="1068" y="-694"/></transition><transition><source ref="id69"/><target ref="id76"/><label kind="guard" x="984" y="-592">isActive &amp;&amp; ( isOccupied )</label><nail x="1075" y="-653"/><nail x="1045" y="-624"/><nail x="983" y="-563"/><nail x="949" y="-529"/></transition><transition><source ref="id72"/><target ref="id65"/><label kind="synchronisation" x="1219" y="-1613">syncChan2?</label><label kind="assignment" x="1219" y="-1598">isActive = true</label><nail x="1178" y="-1683"/><nail x="1178" y="-1657"/><nail x="1178" y="-1607"/><nail x="1178" y="-1576"/></transition><transition><source ref="id68"/><target ref="id65"/><label kind="synchronisation" x="1138" y="-1459">syncChan2?</label><label kind="assignment" x="1138" y="-1444">isActive = true</label><nail x="575" y="-1389"/><nail x="672" y="-1414"/><nail x="1026" y="-1507"/><nail x="1141" y="-1537"/></transition><transition><source ref="id66"/><target ref="id65"/><label kind="synchronisation" x="1383" y="-1192">syncChan2?</label><label kind="assignment" x="1383" y="-1177">isActive = true</label><nail x="942" y="-865"/><nail x="1024" y="-941"/><nail x="1342" y="-1234"/><nail x="1342" y="-1234"/><nail x="1342" y="-1234"/><nail x="1231" y="-1446"/><nail x="1191" y="-1521"/></transition><transition><source ref="id67"/><target ref="id65"/><label kind="synchronisation" x="1651" y="-925">syncChan2?</label><label kind="assignment" x="1651" y="-910">isActive = true</label><nail x="1114" y="-355"/><nail x="1196" y="-457"/><nail x="1610" y="-967"/><nail x="1610" y="-967"/><nail x="1610" y="-967"/><nail x="1278" y="-1412"/><nail x="1196" y="-1523"/></transition><transition><source ref="id68"/><target ref="id68"/><label kind="synchronisation" x="639" y="-1370">syncChan4?</label><label kind="assignment" x="639" y="-1355">isActive = false</label><nail x="568" y="-1396"/><nail x="581" y="-1401"/><nail x="596" y="-1397"/><nail x="596" y="-1382"/><nail x="596" y="-1370"/><nail x="587" y="-1365"/><nail x="577" y="-1365"/></transition><transition><source ref="id66"/><target ref="id66"/><label kind="synchronisation" x="1067" y="-836">syncChan4?</label><label kind="assignment" x="1067" y="-821">isActive = false</label><nail x="967" y="-863"/><nail x="996" y="-867"/><nail x="1023" y="-862"/><nail x="1023" y="-848"/><nail x="1023" y="-835"/><nail x="1002" y="-830"/><nail x="977" y="-831"/></transition><transition><source ref="id67"/><target ref="id67"/><label kind="synchronisation" x="1211" y="-326">syncChan4?</label><label kind="assignment" x="1211" y="-311">isActive = false</label><nail x="1128" y="-352"/><nail x="1148" y="-357"/><nail x="1168" y="-352"/><nail x="1168" y="-338"/><nail x="1168" y="-326"/><nail x="1154" y="-320"/><nail x="1138" y="-321"/></transition><transition><source ref="id73"/><target ref="id68"/><label kind="synchronisation" x="211" y="-747">remPassageDeniedTo[STRAIGHT]!</label><nail x="321" y="-190"/><nail x="312" y="-286"/><nail x="272" y="-729"/><nail x="272" y="-729"/><nail x="272" y="-729"/><nail x="486" y="-1232"/><nail x="539" y="-1355"/></transition><transition><source ref="id74"/><target ref="id68"/><label kind="synchronisation" x="1416" y="-640">remPassageAllowedTo[STRAIGHT]!</label><nail x="1302" y="-36"/><nail x="1326" y="-144"/><nail x="1452" y="-700"/><nail x="1452" y="-700"/><nail x="1452" y="-700"/><nail x="725" y="-1250"/><nail x="577" y="-1362"/></transition><transition><source ref="id75"/><target ref="id68"/><label kind="synchronisation" x="61" y="-658">remPassageDeniedTo[STRAIGHT]!</label><nail x="579" y="-35"/><nail x="502" y="-137"/><nail x="122" y="-640"/><nail x="122" y="-640"/><nail x="122" y="-640"/><nail x="460" y="-1225"/><nail x="536" y="-1356"/></transition><transition><source ref="id76"/><target ref="id68"/><label kind="synchronisation" x="1200" y="-952">remPassageDeniedTo[STRAIGHT]!</label><nail x="935" y="-522"/><nail x="987" y="-607"/><nail x="1205" y="-967"/><nail x="1205" y="-967"/><nail x="1205" y="-967"/><nail x="704" y="-1284"/><nail x="579" y="-1364"/></transition><transition><source ref="id77"/><target ref="id68"/><label kind="synchronisation" x="402" y="-1192">remPassageDeniedTo[STRAIGHT]!</label><nail x="667" y="-1043"/><nail x="606" y="-1082"/><nail x="463" y="-1174"/><nail x="463" y="-1174"/><nail x="463" y="-1174"/><nail x="515" y="-1299"/><nail x="539" y="-1355"/></transition><transition><source ref="id78"/><target ref="id66"/><label kind="synchronisation" x="792" y="-968">sectionLockedWithReplyTo[STRAIGHT]!</label><nail x="978" y="-1007"/><nail x="967" y="-976"/><nail x="944" y="-912"/><nail x="932" y="-875"/></transition><transition><source ref="id79"/><target ref="id68"/><label kind="synchronisation" x="480" y="-488">remPassageDeniedTo[STRAIGHT]!</label><nail x="687" y="-190"/><nail x="639" y="-286"/><nail x="417" y="-729"/><nail x="417" y="-729"/><nail x="417" y="-729"/><nail x="519" y="-1228"/><nail x="545" y="-1353"/></transition><transition><source ref="id80"/><target ref="id67"/><label kind="synchronisation" x="1307" y="-415">remSectionLockFromOtherHalfOUT!</label><nail x="1229" y="-485"/><nail x="1203" y="-456"/><nail x="1150" y="-396"/><nail x="1121" y="-363"/></transition><transition><source ref="id81"/><target ref="id68"/><label kind="synchronisation" x="493" y="-1014">remPassageDeniedTo[STRAIGHT]!</label><nail x="461" y="-687"/><nail x="481" y="-756"/><nail x="554" y="-996"/><nail x="554" y="-996"/><nail x="554" y="-996"/><nail x="551" y="-1264"/><nail x="551" y="-1353"/></transition></template><template><name>mainregionOfStatechart</name><parameter> 	</parameter><declaration>
	bool isActive = true;
	clock Timer;
	</declaration><location id="id82" x="352" y="-928"><committed/></location><location id="id83" x="336" y="-1080"><committed/></location><location id="id84" x="104" y="-2632"><committed/></location><location id="id85" x="96" y="-2784"><committed/></location><location id="id86" x="527" y="-2632"><name x="517" y="-2662">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id87" x="670" y="-476"><name x="660" y="-506">DivergentTurnout</name><label kind="comments">Composite state</label></location><location id="id88" x="569" y="-1246"><name x="559" y="-1276">BecomesDivergent</name><label kind="comments">Simple state</label></location><location id="id89" x="369" y="-3094"><name x="359" y="-3124">BecomesStraight</name><label kind="comments">Simple state</label></location><location id="id90" x="456" y="-2324"><name x="446" y="-2354">StraightTurnout</name><label kind="comments">Composite state</label></location><location id="id91" x="566" y="-3556"><name x="556" y="-3586">CheckStraightBeforeSwitch</name><label kind="comments">Simple state</label></location><location id="id92" x="456" y="-1708"><name x="446" y="-1738">CheckDivergentBeforeSwitch</name><label kind="comments">Simple state</label></location><location id="id93" x="670" y="-630"><name x="660" y="-660">EntryLocationOfDivergentTurnout1</name><committed/></location><location id="id94" x="456" y="-2478"><name x="446" y="-2508">EntryLocationOfStraightTurnout2</name><committed/></location><location id="id95" x="584" y="-3248"><name x="574" y="-3278">Raise_remPassingDeniedFromOtherHalfOUT12</name><committed/></location><location id="id96" x="369" y="-2632"><name x="359" y="-2662">Raise_sectionAllowedTo13</name><committed/></location><location id="id97" x="369" y="-2786"><name x="359" y="-2816">Raise_remPassageDeniedToAll14</name><committed/></location><location id="id98" x="456" y="-1862"><name x="446" y="-1892">Raise_sectionLockedWithReplyTo16</name><committed/></location><location id="id99" x="667" y="-784"><name x="657" y="-814">Raise_sectionAllowedTo19</name><committed/></location><location id="id100" x="456" y="-2016"><name x="446" y="-2046">Raise_sectionLockedTo20</name><committed/></location><location id="id101" x="190" y="-3248"><name x="180" y="-3278">Raise_remPassingAllowedFromOtherHalfOUT24</name><committed/></location><location id="id102" x="188" y="-1400"><name x="178" y="-1430">Raise_remPassingDeniedFromOtherHalfOUT28</name><committed/></location><location id="id103" x="821" y="-14"><name x="811" y="-44">Raise_sectionLockedTo32</name><committed/></location><location id="id104" x="570" y="-3402"><name x="560" y="-3432">Raise_passingDeniedFromOtherHalfOUT34</name><committed/></location><location id="id105" x="569" y="-1400"><name x="559" y="-1430">Raise_passingAllowedFromOtherHalfOUT40</name><committed/></location><location id="id106" x="188" y="-1554"><name x="178" y="-1584">Raise_passingDeniedFromOtherHalfOUT48</name><committed/></location><location id="id107" x="727" y="-168"><name x="717" y="-198">Raise_sectionLockedWithReplyTo49</name><committed/></location><location id="id108" x="369" y="-2940"><name x="359" y="-2970">Raise_sectionLockedTo50</name><committed/></location><location id="id109" x="658" y="-938"><name x="648" y="-968">Raise_sectionLockedTo55</name><committed/></location><location id="id110" x="193" y="-3402"><name x="183" y="-3432">Raise_passingAllowedFromOtherHalfOUT64</name><committed/></location><location id="id111" x="619" y="-1092"><name x="609" y="-1122">Raise_remPassageDeniedToAll68</name><committed/></location><location id="id112" x="569" y="-1554"><name x="559" y="-1584">Raise_remPassingAllowedFromOtherHalfOUT79</name><committed/></location><location id="id113" x="456" y="-2170"><name x="446" y="-2200">triggerLocation1</name><committed/></location><location id="id114" x="679" y="-322"><name x="669" y="-352">triggerLocation2</name><committed/></location><init ref="id86"/><transition><source ref="id82"/><target ref="id109"/><label kind="synchronisation" x="408" y="-968">remPassageDeniedTo[TOP]!</label></transition><transition><source ref="id83"/><target ref="id82"/><label kind="synchronisation" x="284" y="-1019">remPassageDeniedTo[STRAIGHT]!</label></transition><transition><source ref="id111"/><target ref="id83"/><label kind="synchronisation" x="368" y="-1128">remPassageDeniedTo[DIVERGENT]!</label></transition><transition><source ref="id84"/><target ref="id96"/><label kind="synchronisation" x="152" y="-2680">remPassageDeniedTo[TOP]!</label></transition><transition><source ref="id85"/><target ref="id84"/><label kind="synchronisation" x="40" y="-2723">remPassageDeniedTo[STRAIGHT]!</label></transition><transition><source ref="id97"/><target ref="id85"/><label kind="synchronisation" x="120" y="-2824">remPassageDeniedTo[DIVERGENT]!</label></transition><transition><source ref="id91"/><target ref="id104"/><label kind="guard" x="520" y="-3480">isActive</label><label kind="synchronisation" x="512" y="-3464">passingDeniedFrom[STRAIGHT]?</label><nail x="566" y="-3541"/><nail x="567" y="-3515"/><nail x="568" y="-3465"/><nail x="569" y="-3434"/></transition><transition><source ref="id91"/><target ref="id110"/><label kind="guard" x="232" y="-3496">isActive</label><label kind="synchronisation" x="208" y="-3480">passingAllowedFrom[STRAIGHT]?</label><nail x="527" y="-3543"/><nail x="458" y="-3515"/><nail x="318" y="-3457"/><nail x="243" y="-3427"/></transition><transition><source ref="id88"/><target ref="id111"/><label kind="guard" x="718" y="-1176">isActive</label><nail x="575" y="-1231"/><nail x="583" y="-1205"/><nail x="600" y="-1155"/><nail x="610" y="-1124"/></transition><transition><source ref="id87"/><target ref="id114"/><label kind="guard" x="784" y="-406">isActive</label><label kind="synchronisation" x="784" y="-391">turnoutStraight?</label><nail x="671" y="-461"/><nail x="672" y="-435"/><nail x="675" y="-385"/><nail x="677" y="-354"/></transition><transition><source ref="id92"/><target ref="id106"/><label kind="guard" x="354" y="-1638">isActive</label><label kind="synchronisation" x="354" y="-1623">passingDeniedFrom[DIVERGENT]?</label><nail x="427" y="-1694"/><nail x="378" y="-1666"/><nail x="281" y="-1611"/><nail x="226" y="-1580"/></transition><transition><source ref="id92"/><target ref="id112"/><label kind="guard" x="724" y="-1638">isActive</label><label kind="synchronisation" x="724" y="-1623">passingAllowedFrom[DIVERGENT]?</label><nail x="469" y="-1693"/><nail x="489" y="-1667"/><nail x="527" y="-1615"/><nail x="550" y="-1584"/></transition><transition><source ref="id90"/><target ref="id113"/><label kind="guard" x="472" y="-2248">isActive</label><label kind="synchronisation" x="472" y="-2232">turnoutDivergent?</label><nail x="456" y="-2309"/><nail x="456" y="-2283"/><nail x="456" y="-2233"/><nail x="456" y="-2202"/></transition><transition><source ref="id89"/><target ref="id108"/><label kind="guard" x="479" y="-3024">isActive</label><nail x="369" y="-3079"/><nail x="369" y="-3053"/><nail x="369" y="-3003"/><nail x="369" y="-2972"/></transition><transition><source ref="id86"/><target ref="id94"/><label kind="guard" x="535" y="-2562">isActive</label><nail x="519" y="-2618"/><nail x="507" y="-2592"/><nail x="483" y="-2540"/><nail x="468" y="-2509"/></transition><transition><source ref="id93"/><target ref="id87"/><label kind="synchronisation" x="701" y="-545">syncChan1!</label><nail x="670" y="-615"/><nail x="670" y="-589"/><nail x="670" y="-539"/><nail x="670" y="-508"/></transition><transition><source ref="id94"/><target ref="id90"/><label kind="synchronisation" x="487" y="-2393">syncChan2!</label><nail x="456" y="-2463"/><nail x="456" y="-2437"/><nail x="456" y="-2387"/><nail x="456" y="-2356"/></transition><transition><source ref="id95"/><target ref="id89"/><label kind="synchronisation" x="652" y="-3163">remPassingDeniedFromOtherHalfOUT!</label><nail x="560" y="-3233"/><nail x="521" y="-3206"/><nail x="443" y="-3151"/><nail x="400" y="-3121"/></transition><transition><source ref="id96"/><target ref="id94"/><label kind="synchronisation" x="328" y="-2560">sectionAllowedTo[STRAIGHT]!</label><nail x="379" y="-2617"/><nail x="394" y="-2591"/><nail x="423" y="-2540"/><nail x="441" y="-2509"/></transition><transition><source ref="id98"/><target ref="id92"/><label kind="synchronisation" x="536" y="-1777">sectionLockedWithReplyTo[DIVERGENT]!</label><nail x="456" y="-1847"/><nail x="456" y="-1821"/><nail x="456" y="-1771"/><nail x="456" y="-1740"/></transition><transition><source ref="id99"/><target ref="id93"/><label kind="synchronisation" x="720" y="-696">sectionAllowedTo[DIVERGENT]!</label><nail x="667" y="-769"/><nail x="668" y="-743"/><nail x="669" y="-693"/><nail x="669" y="-662"/></transition><transition><source ref="id100"/><target ref="id98"/><label kind="synchronisation" x="506" y="-1931">sectionLockedTo[STRAIGHT]!</label><nail x="456" y="-2001"/><nail x="456" y="-1975"/><nail x="456" y="-1925"/><nail x="456" y="-1894"/></transition><transition><source ref="id101"/><target ref="id89"/><label kind="synchronisation" x="377" y="-3163">remPassingAllowedFromOtherHalfOUT!</label><nail x="210" y="-3233"/><nail x="242" y="-3206"/><nail x="306" y="-3152"/><nail x="342" y="-3121"/></transition><transition><source ref="id102"/><target ref="id88"/><label kind="synchronisation" x="456" y="-1315">remPassingDeniedFromOtherHalfOUT!</label><nail x="229" y="-1386"/><nail x="301" y="-1357"/><nail x="447" y="-1299"/><nail x="522" y="-1269"/></transition><transition><source ref="id103"/><target ref="id91"/><label kind="synchronisation" x="961" y="-1777">sectionLockedTo[DIVERGENT]!</label><nail x="822" y="-36"/><nail x="831" y="-224"/><nail x="911" y="-1819"/><nail x="911" y="-1819"/><nail x="911" y="-1819"/><nail x="616" y="-3307"/><nail x="571" y="-3531"/></transition><transition><source ref="id104"/><target ref="id95"/><label kind="synchronisation" x="678" y="-3317">passingDeniedFromOtherHalfOUT!</label><nail x="572" y="-3387"/><nail x="574" y="-3361"/><nail x="579" y="-3311"/><nail x="581" y="-3280"/></transition><transition><source ref="id105"/><target ref="id88"/><label kind="synchronisation" x="671" y="-1315">passingAllowedFromOtherHalfOUT!</label><nail x="569" y="-1385"/><nail x="569" y="-1359"/><nail x="569" y="-1309"/><nail x="569" y="-1278"/></transition><transition><source ref="id106"/><target ref="id102"/><label kind="synchronisation" x="286" y="-1469">passingDeniedFromOtherHalfOUT!</label><nail x="188" y="-1539"/><nail x="188" y="-1513"/><nail x="188" y="-1463"/><nail x="188" y="-1432"/></transition><transition><source ref="id107"/><target ref="id103"/><label kind="synchronisation" x="817" y="-83">sectionLockedWithReplyTo[STRAIGHT]!</label><nail x="738" y="-153"/><nail x="754" y="-127"/><nail x="786" y="-75"/><nail x="805" y="-44"/></transition><transition><source ref="id108"/><target ref="id97"/><label kind="synchronisation" x="360" y="-2896">sectionLockedTo[DIVERGENT]!</label><nail x="369" y="-2925"/><nail x="369" y="-2899"/><nail x="369" y="-2849"/><nail x="369" y="-2818"/></transition><transition><source ref="id109"/><target ref="id99"/><label kind="synchronisation" x="715" y="-853">sectionLockedTo[STRAIGHT]!</label><nail x="659" y="-923"/><nail x="660" y="-897"/><nail x="663" y="-847"/><nail x="665" y="-816"/></transition><transition><source ref="id110"/><target ref="id101"/><label kind="synchronisation" x="295" y="-3317">passingAllowedFromOtherHalfOUT!</label><nail x="193" y="-3387"/><nail x="192" y="-3361"/><nail x="191" y="-3311"/><nail x="190" y="-3280"/></transition><transition><source ref="id112"/><target ref="id105"/><label kind="synchronisation" x="682" y="-1469">remPassingAllowedFromOtherHalfOUT!</label><nail x="569" y="-1539"/><nail x="569" y="-1513"/><nail x="569" y="-1463"/><nail x="569" y="-1432"/></transition><transition><source ref="id113"/><target ref="id100"/><label kind="synchronisation" x="487" y="-2085">syncChan4!</label><nail x="456" y="-2155"/><nail x="456" y="-2129"/><nail x="456" y="-2079"/><nail x="456" y="-2048"/></transition><transition><source ref="id114"/><target ref="id107"/><label kind="synchronisation" x="743" y="-237">syncChan3!</label><nail x="684" y="-307"/><nail x="693" y="-281"/><nail x="709" y="-231"/><nail x="718" y="-200"/></transition></template><template><name>RemShortSectionLockFromStraightOfStraightTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id115" x="616" y="-14"><name x="606" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id116" x="81" y="-714"><name x="71" y="-744">ShortCheckStraight</name><label kind="comments">Simple state</label></location><location id="id117" x="616" y="-180"><name x="606" y="-210">Init</name><label kind="comments">Simple state</label></location><location id="id118" x="737" y="-1034"><name x="727" y="-1064">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id119" x="88" y="-536"><name x="78" y="-566">Choice1</name><label kind="comments">A choice</label><committed/></location><location id="id120" x="826" y="-180"><name x="816" y="-210">GeneratedInit</name></location><location id="id121" x="697" y="-447"><name x="687" y="-477">Raise_remPassageDeniedTo15</name><committed/></location><location id="id122" x="529" y="-358"><name x="519" y="-388">Raise_remPassageDeniedTo18</name><committed/></location><location id="id123" x="167" y="-880"><name x="157" y="-910">Raise_lockRequestTo46</name><committed/></location><location id="id124" x="790" y="-803"><name x="780" y="-833">Raise_remPassageDeniedTo57</name><committed/></location><location id="id125" x="255" y="-358"><name x="245" y="-388">Raise_remPassageAllowedTo76</name><committed/></location><init ref="id120"/><transition><source ref="id116"/><target ref="id121"/><label kind="guard" x="472" y="-760">isActive</label><label kind="synchronisation" x="432" y="-744">passingDeniedFrom[STRAIGHT]?</label><nail x="560" y="-712"/></transition><transition><source ref="id118"/><target ref="id123"/><label kind="guard" x="613" y="-964">isActive</label><nail x="703" y="-1027"/><nail x="610" y="-1002"/><nail x="351" y="-934"/><nail x="231" y="-901"/></transition><transition><source ref="id119"/><target ref="id125"/><label kind="guard" x="184" y="-454">isActive</label><nail x="104" y="-523"/><nail x="133" y="-492"/><nail x="198" y="-423"/><nail x="232" y="-387"/></transition><transition><source ref="id118"/><target ref="id124"/><label kind="guard" x="857" y="-964">isActive &amp;&amp; ( isOccupied )</label><nail x="737" y="-1019"/><nail x="737" y="-1006"/><nail x="737" y="-991"/><nail x="737" y="-991"/><nail x="737" y="-991"/><nail x="767" y="-886"/><nail x="782" y="-835"/></transition><transition><source ref="id115"/><target ref="id117"/><label kind="guard" x="670" y="-98">isActive</label><nail x="616" y="-36"/><nail x="616" y="-64"/><nail x="616" y="-121"/><nail x="616" y="-155"/></transition><transition><source ref="id116"/><target ref="id121"/><label kind="guard" x="416" y="-592">isActive &amp;&amp; ( isOccupied )</label><nail x="145" y="-706"/><nail x="241" y="-689"/><nail x="412" y="-659"/><nail x="412" y="-659"/><nail x="412" y="-659"/><nail x="590" y="-529"/><nail x="665" y="-474"/></transition><transition><source ref="id116"/><target ref="id119"/><label kind="guard" x="222" y="-632">isActive</label><label kind="synchronisation" x="184" y="-624">passingAllowedFrom[STRAIGHT]?</label><nail x="82" y="-699"/><nail x="83" y="-669"/><nail x="86" y="-605"/><nail x="87" y="-568"/></transition><transition><source ref="id117"/><target ref="id118"/><label kind="guard" x="1178" y="-632">isActive</label><label kind="synchronisation" x="1178" y="-617">remShortSectionLockFrom[STRAIGHT]?</label><nail x="629" y="-200"/><nail x="695" y="-283"/><nail x="992" y="-659"/><nail x="992" y="-659"/><nail x="992" y="-659"/><nail x="812" y="-927"/><nail x="755" y="-1012"/></transition><transition><source ref="id119"/><target ref="id122"/><label kind="guard" x="352" y="-448">isActive &amp;&amp; ( isOccupied )</label><nail x="118" y="-527"/><nail x="192" y="-497"/><nail x="387" y="-419"/><nail x="480" y="-382"/></transition><transition><source ref="id120"/><target ref="id115"/><label kind="synchronisation" x="803" y="-83">syncChan2?</label><label kind="assignment" x="803" y="-68">isActive = true</label><nail x="806" y="-166"/><nail x="767" y="-136"/><nail x="684" y="-71"/><nail x="642" y="-38"/></transition><transition><source ref="id116"/><target ref="id115"/><label kind="synchronisation" x="60" y="-350">syncChan2?</label><label kind="assignment" x="60" y="-335">isActive = true</label><nail x="82" y="-699"/><nail x="86" y="-623"/><nail x="101" y="-332"/><nail x="101" y="-332"/><nail x="101" y="-332"/><nail x="478" y="-102"/><nail x="587" y="-35"/></transition><transition><source ref="id117"/><target ref="id115"/><label kind="synchronisation" x="602" y="-83">syncChan2?</label><label kind="assignment" x="602" y="-68">isActive = true</label><nail x="616" y="-165"/><nail x="616" y="-137"/><nail x="616" y="-80"/><nail x="616" y="-46"/></transition><transition><source ref="id116"/><target ref="id116"/><label kind="synchronisation" x="225" y="-706">syncChan4?</label><label kind="assignment" x="225" y="-691">isActive = false</label><nail x="126" y="-733"/><nail x="154" y="-737"/><nail x="181" y="-732"/><nail x="181" y="-718"/><nail x="181" y="-705"/><nail x="160" y="-700"/><nail x="136" y="-701"/></transition><transition><source ref="id117"/><target ref="id117"/><label kind="synchronisation" x="705" y="-172">syncChan4?</label><label kind="assignment" x="705" y="-157">isActive = false</label><nail x="633" y="-198"/><nail x="647" y="-203"/><nail x="661" y="-199"/><nail x="661" y="-184"/><nail x="661" y="-172"/><nail x="653" y="-167"/><nail x="643" y="-167"/></transition><transition><source ref="id121"/><target ref="id117"/><label kind="synchronisation" x="752" y="-350">remPassageDeniedTo[STRAIGHT]!</label><nail x="696" y="-432"/><nail x="694" y="-415"/><nail x="691" y="-392"/><nail x="691" y="-392"/><nail x="691" y="-392"/><nail x="647" y="-267"/><nail x="626" y="-211"/></transition><transition><source ref="id122"/><target ref="id117"/><label kind="synchronisation" x="440" y="-312">remPassageDeniedTo[STRAIGHT]!</label><nail x="538" y="-343"/><nail x="553" y="-312"/><nail x="586" y="-246"/><nail x="604" y="-210"/></transition><transition><source ref="id123"/><target ref="id116"/><label kind="synchronisation" x="120" y="-816">lockRequestTo[STRAIGHT]!</label><nail x="159" y="-866"/><nail x="143" y="-837"/><nail x="113" y="-778"/><nail x="95" y="-744"/></transition><transition><source ref="id124"/><target ref="id117"/><label kind="synchronisation" x="704" y="-728">remPassageDeniedTo[STRAIGHT]!</label><nail x="794" y="-788"/><nail x="807" y="-733"/><nail x="842" y="-570"/><nail x="842" y="-570"/><nail x="842" y="-570"/><nail x="682" y="-295"/><nail x="631" y="-209"/></transition><transition><source ref="id125"/><target ref="id117"/><label kind="synchronisation" x="352" y="-272">remPassageAllowedTo[STRAIGHT]!</label><nail x="289" y="-344"/><nail x="359" y="-310"/><nail x="519" y="-232"/><nail x="586" y="-199"/></transition></template><template><name>SectionLockFromOtherHalfOfStraightTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id126" x="185" y="-14"><name x="175" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id127" x="314" y="-180"><name x="304" y="-210">Init</name><label kind="comments">Simple state</label></location><location id="id128" x="363" y="-998"><name x="353" y="-1028">CLocalStraight</name><label kind="comments">Simple state</label></location><location id="id129" x="445" y="-512"><name x="435" y="-542">CNeighbourTurnout</name><label kind="comments">Simple state</label></location><location id="id130" x="540" y="-832"><name x="530" y="-862">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id131" x="88" y="-180"><name x="78" y="-210">GeneratedInit</name></location><location id="id132" x="864" y="-14"><name x="854" y="-44">Raise_sectionLockedWithReplyTo33</name><committed/></location><location id="id133" x="187" y="-755"><name x="177" y="-785">Raise_passingDeniedFromOtherHalfOUT47</name><committed/></location><location id="id134" x="861" y="-601"><name x="851" y="-631">Raise_passingAllowedFromOtherHalfOUT65</name><committed/></location><location id="id135" x="504" y="-678"><name x="494" y="-708">Raise_remPassageRequestTo69</name><committed/></location><location id="id136" x="390" y="-346"><name x="380" y="-376">Raise_passingAllowedFromOtherHalfOUT73</name><committed/></location><init ref="id131"/><transition><source ref="id129"/><target ref="id136"/><label kind="guard" x="528" y="-472">isActive</label><label kind="synchronisation" x="480" y="-456">remPassageAllowedFrom[STRAIGHT]?</label><nail x="520" y="-440"/></transition><transition><source ref="id128"/><target ref="id133"/><label kind="guard" x="352" y="-920">isActive</label><label kind="synchronisation" x="352" y="-901">passingDeniedFrom[STRAIGHT]?</label><nail x="321" y="-988"/><nail x="269" y="-970"/><nail x="187" y="-943"/><nail x="187" y="-943"/><nail x="187" y="-943"/><nail x="187" y="-839"/><nail x="187" y="-787"/></transition><transition><source ref="id126"/><target ref="id127"/><label kind="guard" x="262" y="-98">isActive</label><nail x="197" y="-34"/><nail x="219" y="-63"/><nail x="268" y="-125"/><nail x="295" y="-159"/></transition><transition><source ref="id128"/><target ref="id130"/><label kind="guard" x="699" y="-916">isActive</label><label kind="synchronisation" x="699" y="-901">passingAllowedFrom[STRAIGHT]?</label><nail x="380" y="-984"/><nail x="412" y="-954"/><nail x="479" y="-892"/><nail x="515" y="-859"/></transition><transition><source ref="id130"/><target ref="id135"/><label kind="guard" x="528" y="-760">isActive</label><nail x="535" y="-817"/><nail x="529" y="-791"/><nail x="517" y="-741"/><nail x="510" y="-710"/></transition><transition><source ref="id127"/><target ref="id132"/><label kind="guard" x="608" y="-112">isActive</label><label kind="synchronisation" x="576" y="-96">sectionLockFromOtherHalfIN?</label><nail x="338" y="-175"/><nail x="419" y="-151"/><nail x="679" y="-74"/><nail x="800" y="-37"/></transition><transition><source ref="id130"/><target ref="id134"/><label kind="guard" x="913" y="-762">isActive &amp;&amp; ( id == 134 )</label><nail x="578" y="-829"/><nail x="659" y="-817"/><nail x="840" y="-789"/><nail x="840" y="-789"/><nail x="840" y="-789"/><nail x="851" y="-685"/><nail x="857" y="-633"/></transition><transition><source ref="id129"/><target ref="id136"/><label kind="guard" x="408" y="-416">isActive</label><label kind="synchronisation" x="384" y="-408">remPassageDeniedFrom[STRAIGHT]?</label><nail x="439" y="-497"/><nail x="429" y="-469"/><nail x="410" y="-411"/><nail x="398" y="-377"/></transition><transition><source ref="id131"/><target ref="id126"/><label kind="synchronisation" x="130" y="-83">syncChan2?</label><label kind="assignment" x="130" y="-68">isActive = true</label><nail x="98" y="-166"/><nail x="115" y="-137"/><nail x="150" y="-77"/><nail x="170" y="-43"/></transition><transition><source ref="id129"/><target ref="id126"/><label kind="synchronisation" x="226" y="-261">syncChan2?</label><label kind="assignment" x="226" y="-246">isActive = true</label><nail x="433" y="-498"/><nail x="393" y="-437"/><nail x="267" y="-243"/><nail x="267" y="-243"/><nail x="267" y="-243"/><nail x="216" y="-105"/><nail x="194" y="-45"/></transition><transition><source ref="id128"/><target ref="id126"/><label kind="synchronisation" x="41" y="-504">syncChan2?</label><label kind="assignment" x="41" y="-489">isActive = true</label><nail x="353" y="-983"/><nail x="303" y="-892"/><nail x="82" y="-486"/><nail x="82" y="-486"/><nail x="82" y="-486"/><nail x="156" y="-146"/><nail x="178" y="-45"/></transition><transition><source ref="id127"/><target ref="id126"/><label kind="synchronisation" x="341" y="-83">syncChan2?</label><label kind="assignment" x="341" y="-68">isActive = true</label><nail x="301" y="-167"/><nail x="279" y="-138"/><nail x="230" y="-76"/><nail x="203" y="-42"/></transition><transition><source ref="id129"/><target ref="id129"/><label kind="synchronisation" x="590" y="-504">syncChan4?</label><label kind="assignment" x="590" y="-489">isActive = false</label><nail x="490" y="-531"/><nail x="519" y="-535"/><nail x="547" y="-530"/><nail x="547" y="-516"/><nail x="547" y="-503"/><nail x="525" y="-498"/><nail x="500" y="-499"/></transition><transition><source ref="id128"/><target ref="id128"/><label kind="synchronisation" x="490" y="-990">syncChan4?</label><label kind="assignment" x="490" y="-975">isActive = false</label><nail x="399" y="-1017"/><nail x="423" y="-1021"/><nail x="446" y="-1016"/><nail x="446" y="-1002"/><nail x="446" y="-989"/><nail x="429" y="-984"/><nail x="409" y="-985"/></transition><transition><source ref="id127"/><target ref="id127"/><label kind="synchronisation" x="402" y="-172">syncChan4?</label><label kind="assignment" x="402" y="-157">isActive = false</label><nail x="331" y="-198"/><nail x="344" y="-203"/><nail x="359" y="-199"/><nail x="359" y="-184"/><nail x="359" y="-172"/><nail x="350" y="-167"/><nail x="340" y="-167"/></transition><transition><source ref="id132"/><target ref="id128"/><label kind="synchronisation" x="1136" y="-496">sectionLockedWithReplyTo[STRAIGHT]!</label><nail x="872" y="-36"/><nail x="916" y="-129"/><nail x="1113" y="-546"/><nail x="1113" y="-546"/><nail x="1113" y="-546"/><nail x="548" y="-889"/><nail x="398" y="-980"/></transition><transition><source ref="id133"/><target ref="id127"/><label kind="synchronisation" x="245" y="-504">passingDeniedFromOtherHalfOUT!</label><nail x="183" y="-740"/><nail x="173" y="-689"/><nail x="147" y="-546"/><nail x="147" y="-546"/><nail x="147" y="-546"/><nail x="263" y="-294"/><nail x="301" y="-210"/></transition><transition><source ref="id134"/><target ref="id127"/><label kind="synchronisation" x="996" y="-415">passingAllowedFromOtherHalfOUT!</label><nail x="865" y="-586"/><nail x="873" y="-547"/><nail x="894" y="-457"/><nail x="894" y="-457"/><nail x="894" y="-457"/><nail x="466" y="-255"/><nail x="345" y="-198"/></transition><transition><source ref="id135"/><target ref="id129"/><label kind="synchronisation" x="456" y="-600">remPassageRequestTo[STRAIGHT]!</label><nail x="497" y="-663"/><nail x="487" y="-635"/><nail x="466" y="-577"/><nail x="454" y="-543"/></transition><transition><source ref="id136"/><target ref="id127"/><label kind="synchronisation" x="470" y="-261">passingAllowedFromOtherHalfOUT!</label><nail x="382" y="-331"/><nail x="368" y="-302"/><nail x="341" y="-244"/><nail x="325" y="-210"/></transition></template><template><name>RemSectionLockFromDivergentOfDivergentTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id137" x="859" y="-14"><name x="849" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id138" x="709" y="-714"><name x="699" y="-744">Init</name><label kind="comments">Simple state</label></location><location id="id139" x="251" y="-180"><name x="241" y="-210">CheckLocalDivergent</name><label kind="comments">Simple state</label></location><location id="id140" x="916" y="-1248"><name x="906" y="-1278">CheckTop</name><label kind="comments">Simple state</label></location><location id="id141" x="344" y="-536"><name x="334" y="-566">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id142" x="916" y="-1070"><name x="906" y="-1100">Choice1</name><label kind="comments">A choice</label><committed/></location><location id="id143" x="404" y="-1568"><name x="394" y="-1598">Choice2</name><label kind="comments">A choice</label><committed/></location><location id="id144" x="762" y="-180"><name x="752" y="-210">GeneratedInit</name></location><location id="id145" x="118" y="-14"><name x="108" y="-44">Raise_remPassageDeniedTo2</name><committed/></location><location id="id146" x="709" y="-892"><name x="699" y="-922">Raise_remPassageDeniedTo7</name><committed/></location><location id="id147" x="404" y="-1337"><name x="394" y="-1367">Raise_remPassageDeniedTo26</name><committed/></location><location id="id148" x="822" y="-1414"><name x="812" y="-1444">Raise_remSectionLockFromOtherHalfOUT27</name><committed/></location><location id="id149" x="378" y="-358"><name x="368" y="-388">Raise_sectionLockedWithReplyTo30</name><committed/></location><location id="id150" x="974" y="-892"><name x="964" y="-922">Raise_remPassageAllowedTo43</name><committed/></location><location id="id151" x="1344" y="-981"><name x="1334" y="-1011">Raise_remPassageDeniedTo52</name><committed/></location><location id="id152" x="542" y="-981"><name x="532" y="-1011">Raise_remPassageDeniedTo60</name><committed/></location><location id="id153" x="684" y="-358"><name x="674" y="-388">Raise_remPassageDeniedTo63</name><committed/></location><init ref="id144"/><transition><source ref="id139"/><target ref="id145"/><label kind="guard" x="120" y="-152">isActive</label><label kind="synchronisation" x="80" y="-136">passingDeniedFrom[DIVERGENT]?</label><nail x="192" y="-176"/></transition><transition><source ref="id143"/><target ref="id148"/><label kind="guard" x="773" y="-1498">isActive</label><nail x="435" y="-1559"/><nail x="505" y="-1534"/><nail x="678" y="-1471"/><nail x="768" y="-1438"/></transition><transition><source ref="id138"/><target ref="id141"/><label kind="guard" x="520" y="-632">isActive</label><label kind="synchronisation" x="520" y="-617">remSectionLockFrom[DIVERGENT]?</label><nail x="688" y="-706"/><nail x="628" y="-677"/><nail x="455" y="-594"/><nail x="380" y="-558"/></transition><transition><source ref="id141"/><target ref="id149"/><label kind="guard" x="280" y="-454">isActive</label><nail x="348" y="-521"/><nail x="354" y="-491"/><nail x="366" y="-426"/><nail x="373" y="-389"/></transition><transition><source ref="id140"/><target ref="id151"/><label kind="guard" x="1272" y="-1112">isActive &amp;&amp; ( isOccupied )</label><nail x="959" y="-1242"/><nail x="1032" y="-1225"/><nail x="1173" y="-1193"/><nail x="1173" y="-1193"/><nail x="1173" y="-1193"/><nail x="1277" y="-1066"/><nail x="1323" y="-1011"/></transition><transition><source ref="id142"/><target ref="id150"/><label kind="guard" x="960" y="-984">isActive</label><nail x="922" y="-1056"/><nail x="932" y="-1025"/><nail x="954" y="-960"/><nail x="966" y="-923"/></transition><transition><source ref="id142"/><target ref="id146"/><label kind="guard" x="760" y="-992">isActive &amp;&amp; ( isOccupied )</label><nail x="898" y="-1057"/><nail x="862" y="-1026"/><nail x="780" y="-957"/><nail x="737" y="-920"/></transition><transition><source ref="id137"/><target ref="id138"/><label kind="guard" x="882" y="-365">isActive</label><nail x="859" y="-36"/><nail x="859" y="-110"/><nail x="859" y="-392"/><nail x="859" y="-392"/><nail x="859" y="-392"/><nail x="758" y="-613"/><nail x="722" y="-691"/></transition><transition><source ref="id139"/><target ref="id143"/><label kind="guard" x="203" y="-899">isActive</label><label kind="synchronisation" x="203" y="-884">passingAllowedFrom[DIVERGENT]?</label><nail x="255" y="-202"/><nail x="275" y="-310"/><nail x="376" y="-866"/><nail x="376" y="-866"/><nail x="376" y="-866"/><nail x="398" y="-1412"/><nail x="403" y="-1543"/></transition><transition><source ref="id141"/><target ref="id153"/><label kind="guard" x="571" y="-454">isActive &amp;&amp; ( isOccupied )</label><nail x="370" y="-525"/><nail x="429" y="-495"/><nail x="573" y="-420"/><nail x="644" y="-384"/></transition><transition><source ref="id140"/><target ref="id152"/><label kind="guard" x="702" y="-1166">isActive</label><label kind="synchronisation" x="702" y="-1151">remPassingDeniedFromOtherHalfIN?</label><nail x="903" y="-1234"/><nail x="878" y="-1201"/><nail x="826" y="-1133"/><nail x="826" y="-1133"/><nail x="826" y="-1133"/><nail x="664" y="-1048"/><nail x="585" y="-1007"/></transition><transition><source ref="id140"/><target ref="id142"/><label kind="guard" x="1022" y="-1166">isActive</label><label kind="synchronisation" x="1022" y="-1151">remPassingAllowedFromOtherHalfIN?</label><nail x="916" y="-1233"/><nail x="916" y="-1203"/><nail x="916" y="-1139"/><nail x="916" y="-1102"/></transition><transition><source ref="id139"/><target ref="id145"/><label kind="guard" x="200" y="-112">isActive &amp;&amp; ( isOccupied )</label><nail x="238" y="-166"/><nail x="214" y="-137"/><nail x="166" y="-77"/><nail x="139" y="-44"/></transition><transition><source ref="id143"/><target ref="id147"/><label kind="guard" x="529" y="-1498">isActive &amp;&amp; ( isOccupied )</label><nail x="404" y="-1553"/><nail x="404" y="-1540"/><nail x="404" y="-1525"/><nail x="404" y="-1525"/><nail x="404" y="-1525"/><nail x="404" y="-1421"/><nail x="404" y="-1369"/></transition><transition><source ref="id144"/><target ref="id137"/><label kind="synchronisation" x="804" y="-83">syncChan1?</label><label kind="assignment" x="804" y="-68">isActive = true</label><nail x="772" y="-166"/><nail x="790" y="-137"/><nail x="825" y="-77"/><nail x="845" y="-43"/></transition><transition><source ref="id140"/><target ref="id137"/><label kind="synchronisation" x="1523" y="-617">syncChan1?</label><label kind="assignment" x="1523" y="-602">isActive = true</label><nail x="933" y="-1234"/><nail x="1026" y="-1137"/><nail x="1482" y="-659"/><nail x="1482" y="-659"/><nail x="1482" y="-659"/><nail x="992" y="-154"/><nail x="882" y="-40"/></transition><transition><source ref="id138"/><target ref="id137"/><label kind="synchronisation" x="982" y="-350">syncChan1?</label><label kind="assignment" x="982" y="-335">isActive = true</label><nail x="721" y="-701"/><nail x="769" y="-634"/><nail x="941" y="-392"/><nail x="941" y="-392"/><nail x="941" y="-392"/><nail x="885" y="-132"/><nail x="866" y="-45"/></transition><transition><source ref="id139"/><target ref="id137"/><label kind="synchronisation" x="718" y="-83">syncChan1?</label><label kind="assignment" x="718" y="-68">isActive = true</label><nail x="302" y="-169"/><nail x="422" y="-136"/><nail x="720" y="-56"/><nail x="823" y="-28"/></transition><transition><source ref="id140"/><target ref="id140"/><label kind="synchronisation" x="1028" y="-1240">syncChan3?</label><label kind="assignment" x="1028" y="-1225">isActive = false</label><nail x="945" y="-1266"/><nail x="965" y="-1271"/><nail x="984" y="-1266"/><nail x="984" y="-1252"/><nail x="984" y="-1240"/><nail x="971" y="-1234"/><nail x="955" y="-1235"/></transition><transition><source ref="id138"/><target ref="id138"/><label kind="synchronisation" x="798" y="-706">syncChan3?</label><label kind="assignment" x="798" y="-691">isActive = false</label><nail x="727" y="-732"/><nail x="740" y="-737"/><nail x="754" y="-733"/><nail x="754" y="-718"/><nail x="754" y="-706"/><nail x="746" y="-701"/><nail x="736" y="-701"/></transition><transition><source ref="id139"/><target ref="id139"/><label kind="synchronisation" x="402" y="-172">syncChan3?</label><label kind="assignment" x="402" y="-157">isActive = false</label><nail x="299" y="-199"/><nail x="329" y="-203"/><nail x="358" y="-198"/><nail x="358" y="-184"/><nail x="358" y="-171"/><nail x="336" y="-166"/><nail x="309" y="-167"/></transition><transition><source ref="id145"/><target ref="id138"/><label kind="synchronisation" x="151" y="-350">remPassageDeniedTo[DIVERGENT]!</label><nail x="96" y="-64"/><nail x="72" y="-104"/><nail x="72" y="-152"/><nail x="212" y="-332"/><nail x="212" y="-332"/><nail x="212" y="-332"/><nail x="582" y="-619"/><nail x="684" y="-698"/></transition><transition><source ref="id146"/><target ref="id138"/><label kind="synchronisation" x="664" y="-824">remPassageDeniedTo[DIVERGENT]!</label><nail x="709" y="-877"/><nail x="709" y="-847"/><nail x="709" y="-783"/><nail x="709" y="-746"/></transition><transition><source ref="id147"/><target ref="id138"/><label kind="synchronisation" x="465" y="-1062">remPassageDeniedTo[DIVERGENT]!</label><nail x="412" y="-1322"/><nail x="438" y="-1258"/><nail x="526" y="-1044"/><nail x="526" y="-1044"/><nail x="526" y="-1044"/><nail x="651" y="-821"/><nail x="695" y="-744"/></transition><transition><source ref="id148"/><target ref="id140"/><label kind="synchronisation" x="985" y="-1329">remSectionLockFromOtherHalfOUT!</label><nail x="832" y="-1399"/><nail x="849" y="-1370"/><nail x="882" y="-1312"/><nail x="902" y="-1278"/></transition><transition><source ref="id149"/><target ref="id139"/><label kind="synchronisation" x="304" y="-296">sectionLockedWithReplyTo[DIVERGENT]!</label><nail x="366" y="-343"/><nail x="343" y="-312"/><nail x="296" y="-246"/><nail x="270" y="-210"/></transition><transition><source ref="id150"/><target ref="id138"/><label kind="synchronisation" x="970" y="-795">remPassageAllowedTo[DIVERGENT]!</label><nail x="949" y="-878"/><nail x="899" y="-844"/><nail x="788" y="-771"/><nail x="736" y="-736"/></transition><transition><source ref="id151"/><target ref="id138"/><label kind="synchronisation" x="1000" y="-864">remPassageDeniedTo[DIVERGENT]!</label><nail x="1312" y="-967"/><nail x="1280" y="-950"/><nail x="1235" y="-926"/><nail x="1235" y="-926"/><nail x="1235" y="-926"/><nail x="857" y="-776"/><nail x="742" y="-730"/></transition><transition><source ref="id152"/><target ref="id138"/><label kind="synchronisation" x="511" y="-884">remPassageDeniedTo[DIVERGENT]!</label><nail x="547" y="-966"/><nail x="555" y="-933"/><nail x="572" y="-866"/><nail x="572" y="-866"/><nail x="572" y="-866"/><nail x="650" y="-782"/><nail x="688" y="-741"/></transition><transition><source ref="id153"/><target ref="id138"/><label kind="synchronisation" x="770" y="-528">remPassageDeniedTo[DIVERGENT]!</label><nail x="687" y="-380"/><nail x="693" y="-430"/><nail x="709" y="-570"/><nail x="709" y="-570"/><nail x="709" y="-570"/><nail x="709" y="-646"/><nail x="709" y="-689"/></transition></template><template><name>SectionLockFromDivergentOfDivergentTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id154" x="199" y="-14"><name x="189" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id155" x="400" y="-180"><name x="390" y="-210">Init</name><label kind="comments">Simple state</label></location><location id="id156" x="258" y="-844"><name x="248" y="-874">CheckNeighbourTurnout</name><label kind="comments">Simple state</label></location><location id="id157" x="186" y="-512"><name x="176" y="-542">CheckOtherSide</name><label kind="comments">Simple state</label></location><location id="id158" x="199" y="-180"><name x="189" y="-210">GeneratedInit</name></location><location id="id159" x="471" y="-346"><name x="461" y="-376">Raise_sectionLockedTo3</name><committed/></location><location id="id160" x="584" y="-601"><name x="574" y="-631">Raise_sectionLockedTo5</name><committed/></location><location id="id161" x="237" y="-346"><name x="227" y="-376">Raise_sectionAllowedTo11</name><committed/></location><location id="id162" x="192" y="-678"><name x="182" y="-708">Raise_sectionLockFromOtherHalfOUT53</name><committed/></location><location id="id163" x="658" y="-14"><name x="648" y="-44">Raise_remPassageRequestTo61</name><committed/></location><init ref="id158"/><transition><source ref="id156"/><target ref="id160"/><label kind="guard" x="636" y="-762">isActive</label><label kind="synchronisation" x="636" y="-747">remPassageDeniedFrom[DIVERGENT]?</label><nail x="309" y="-832"/><nail x="368" y="-815"/><nail x="455" y="-789"/><nail x="455" y="-789"/><nail x="455" y="-789"/><nail x="530" y="-682"/><nail x="565" y="-631"/></transition><transition><source ref="id157"/><target ref="id159"/><label kind="guard" x="550" y="-430">isActive</label><label kind="synchronisation" x="520" y="-416">passingDeniedFromOtherHalfIN?</label><nail x="213" y="-499"/><nail x="264" y="-469"/><nail x="375" y="-405"/><nail x="433" y="-372"/></transition><transition><source ref="id156"/><target ref="id162"/><label kind="guard" x="200" y="-784">isActive</label><label kind="synchronisation" x="176" y="-768">remPassageAllowedFrom[DIVERGENT]?</label><nail x="251" y="-829"/><nail x="239" y="-801"/><nail x="216" y="-743"/><nail x="202" y="-709"/></transition><transition><source ref="id154"/><target ref="id155"/><label kind="guard" x="333" y="-98">isActive</label><nail x="215" y="-32"/><nail x="251" y="-61"/><nail x="334" y="-129"/><nail x="375" y="-163"/></transition><transition><source ref="id155"/><target ref="id163"/><label kind="guard" x="655" y="-98">isActive</label><label kind="synchronisation" x="655" y="-83">sectionLockFrom[DIVERGENT]?</label><nail x="418" y="-170"/><nail x="461" y="-143"/><nail x="567" y="-76"/><nail x="622" y="-41"/></transition><transition><source ref="id157"/><target ref="id161"/><label kind="guard" x="224" y="-424">isActive</label><label kind="synchronisation" x="168" y="-416">passingAllowedFromOtherHalfIN?</label><nail x="191" y="-497"/><nail x="200" y="-469"/><nail x="218" y="-411"/><nail x="228" y="-377"/></transition><transition><source ref="id158"/><target ref="id154"/><label kind="synchronisation" x="240" y="-83">syncChan1?</label><label kind="assignment" x="240" y="-68">isActive = true</label><nail x="199" y="-165"/><nail x="199" y="-137"/><nail x="199" y="-80"/><nail x="199" y="-46"/></transition><transition><source ref="id155"/><target ref="id154"/><label kind="synchronisation" x="419" y="-83">syncChan1?</label><label kind="assignment" x="419" y="-68">isActive = true</label><nail x="383" y="-169"/><nail x="348" y="-140"/><nail x="265" y="-73"/><nail x="223" y="-39"/></transition><transition><source ref="id156"/><target ref="id154"/><label kind="synchronisation" x="41" y="-415">syncChan1?</label><label kind="assignment" x="41" y="-400">isActive = true</label><nail x="250" y="-830"/><nail x="218" y="-746"/><nail x="82" y="-397"/><nail x="82" y="-397"/><nail x="82" y="-397"/><nail x="163" y="-132"/><nail x="190" y="-45"/></transition><transition><source ref="id157"/><target ref="id154"/><label kind="synchronisation" x="139" y="-261">syncChan1?</label><label kind="assignment" x="139" y="-246">isActive = true</label><nail x="185" y="-497"/><nail x="184" y="-436"/><nail x="180" y="-243"/><nail x="180" y="-243"/><nail x="180" y="-243"/><nail x="191" y="-106"/><nail x="196" y="-46"/></transition><transition><source ref="id155"/><target ref="id155"/><label kind="synchronisation" x="488" y="-172">syncChan3?</label><label kind="assignment" x="488" y="-157">isActive = false</label><nail x="417" y="-198"/><nail x="430" y="-203"/><nail x="445" y="-199"/><nail x="445" y="-184"/><nail x="445" y="-172"/><nail x="436" y="-167"/><nail x="426" y="-167"/></transition><transition><source ref="id156"/><target ref="id156"/><label kind="synchronisation" x="420" y="-836">syncChan3?</label><label kind="assignment" x="420" y="-821">isActive = false</label><nail x="311" y="-863"/><nail x="345" y="-867"/><nail x="377" y="-861"/><nail x="377" y="-848"/><nail x="377" y="-835"/><nail x="351" y="-830"/><nail x="321" y="-831"/></transition><transition><source ref="id157"/><target ref="id157"/><label kind="synchronisation" x="318" y="-504">syncChan3?</label><label kind="assignment" x="318" y="-489">isActive = false</label><nail x="224" y="-531"/><nail x="250" y="-535"/><nail x="274" y="-530"/><nail x="274" y="-516"/><nail x="274" y="-503"/><nail x="256" y="-498"/><nail x="234" y="-499"/></transition><transition><source ref="id159"/><target ref="id155"/><label kind="synchronisation" x="344" y="-272">sectionLockedTo[DIVERGENT]!</label><nail x="463" y="-331"/><nail x="451" y="-302"/><nail x="425" y="-244"/><nail x="411" y="-210"/></transition><transition><source ref="id160"/><target ref="id155"/><label kind="synchronisation" x="584" y="-488">sectionLockedTo[DIVERGENT]!</label><nail x="596" y="-586"/><nail x="623" y="-547"/><nail x="685" y="-457"/><nail x="685" y="-457"/><nail x="685" y="-457"/><nail x="490" y="-270"/><nail x="422" y="-206"/></transition><transition><source ref="id161"/><target ref="id155"/><label kind="synchronisation" x="208" y="-296">sectionAllowedTo[DIVERGENT]!</label><nail x="253" y="-332"/><nail x="283" y="-302"/><nail x="345" y="-240"/><nail x="378" y="-207"/></transition><transition><source ref="id162"/><target ref="id157"/><label kind="synchronisation" x="283" y="-593">sectionLockFromOtherHalfOUT!</label><nail x="191" y="-663"/><nail x="190" y="-635"/><nail x="188" y="-578"/><nail x="186" y="-544"/></transition><transition><source ref="id163"/><target ref="id156"/><label kind="synchronisation" x="897" y="-415">remPassageRequestTo[DIVERGENT]!</label><nail x="665" y="-36"/><nail x="698" y="-118"/><nail x="833" y="-457"/><nail x="833" y="-457"/><nail x="833" y="-457"/><nail x="415" y="-740"/><nail x="292" y="-824"/></transition></template><template><name>RemShortSectionLockFromDivergentOfDivergentTurnout</name><parameter> 	</parameter><declaration>
	bool isActive = false;
	clock Timer;
	</declaration><location id="id164" x="510" y="-14"><name x="500" y="-44">initial</name><label kind="comments">Initial entry node</label><committed/></location><location id="id165" x="510" y="-180"><name x="500" y="-210">Init</name><label kind="comments">Simple state</label></location><location id="id166" x="219" y="-714"><name x="209" y="-744">ShortCheckDivergent</name><label kind="comments">Simple state</label></location><location id="id167" x="519" y="-536"><name x="509" y="-566">Choice0</name><label kind="comments">A choice</label><committed/></location><location id="id168" x="888" y="-1034"><name x="878" y="-1064">Choice1</name><label kind="comments">A choice</label><committed/></location><location id="id169" x="720" y="-180"><name x="710" y="-210">GeneratedInit</name></location><location id="id170" x="138" y="-447"><name x="128" y="-477">Raise_remPassageDeniedTo36</name><committed/></location><location id="id171" x="549" y="-880"><name x="539" y="-910">Raise_lockRequestTo42</name><committed/></location><location id="id172" x="391" y="-358"><name x="381" y="-388">Raise_remPassageDeniedTo51</name><committed/></location><location id="id173" x="661" y="-358"><name x="651" y="-388">Raise_remPassageAllowedTo74</name><committed/></location><location id="id174" x="1155" y="-803"><name x="1145" y="-833">Raise_remPassageDeniedTo78</name><committed/></location><init ref="id169"/><transition><source ref="id166"/><target ref="id170"/><label kind="guard" x="256" y="-592">isActive</label><label kind="synchronisation" x="184" y="-576">passingDeniedFrom[DIVERGENT]?</label><nail x="264" y="-600"/></transition><transition><source ref="id168"/><target ref="id174"/><label kind="guard" x="1100" y="-964">isActive &amp;&amp; ( isOccupied )</label><nail x="914" y="-1023"/><nail x="940" y="-1010"/><nail x="976" y="-991"/><nail x="976" y="-991"/><nail x="976" y="-991"/><nail x="1081" y="-882"/><nail x="1130" y="-832"/></transition><transition><source ref="id167"/><target ref="id173"/><label kind="guard" x="746" y="-454">isActive</label><nail x="532" y="-522"/><nail x="556" y="-491"/><nail x="611" y="-424"/><nail x="640" y="-388"/></transition><transition><source ref="id164"/><target ref="id165"/><label kind="guard" x="564" y="-98">isActive</label><nail x="510" y="-36"/><nail x="510" y="-64"/><nail x="510" y="-121"/><nail x="510" y="-155"/></transition><transition><source ref="id166"/><target ref="id170"/><label kind="guard" x="-24" y="-696">isActive &amp;&amp; ( isOccupied )</label><nail x="178" y="-701"/><nail x="135" y="-684"/><nail x="72" y="-659"/><nail x="72" y="-659"/><nail x="72" y="-659"/><nail x="111" y="-535"/><nail x="129" y="-478"/></transition><transition><source ref="id166"/><target ref="id167"/><label kind="guard" x="800" y="-640">isActive</label><label kind="synchronisation" x="712" y="-624">passingAllowedFrom[DIVERGENT]?</label><nail x="246" y="-700"/><nail x="302" y="-668"/><nail x="426" y="-595"/><nail x="486" y="-560"/></transition><transition><source ref="id167"/><target ref="id172"/><label kind="guard" x="360" y="-448">isActive &amp;&amp; ( isOccupied )</label><nail x="507" y="-522"/><nail x="484" y="-491"/><nail x="435" y="-424"/><nail x="409" y="-388"/></transition><transition><source ref="id165"/><target ref="id168"/><label kind="guard" x="1078" y="-632">isActive</label><label kind="synchronisation" x="1078" y="-617">remShortSectionLockFrom[DIVERGENT]?</label><nail x="522" y="-200"/><nail x="588" y="-283"/><nail x="888" y="-659"/><nail x="888" y="-659"/><nail x="888" y="-659"/><nail x="888" y="-922"/><nail x="888" y="-1009"/></transition><transition><source ref="id168"/><target ref="id171"/><label kind="guard" x="767" y="-964">isActive</label><nail x="860" y="-1024"/><nail x="801" y="-998"/><nail x="664" y="-936"/><nail x="593" y="-904"/></transition><transition><source ref="id169"/><target ref="id164"/><label kind="synchronisation" x="697" y="-83">syncChan1?</label><label kind="assignment" x="697" y="-68">isActive = true</label><nail x="699" y="-166"/><nail x="660" y="-136"/><nail x="577" y="-71"/><nail x="535" y="-38"/></transition><transition><source ref="id165"/><target ref="id164"/><label kind="synchronisation" x="496" y="-83">syncChan1?</label><label kind="assignment" x="496" y="-68">isActive = true</label><nail x="510" y="-165"/><nail x="510" y="-137"/><nail x="510" y="-80"/><nail x="510" y="-46"/></transition><transition><source ref="id166"/><target ref="id164"/><label kind="synchronisation" x="41" y="-350">syncChan1?</label><label kind="assignment" x="41" y="-335">isActive = true</label><nail x="212" y="-699"/><nail x="185" y="-623"/><nail x="82" y="-332"/><nail x="82" y="-332"/><nail x="82" y="-332"/><nail x="388" y="-106"/><nail x="482" y="-37"/></transition><transition><source ref="id165"/><target ref="id165"/><label kind="synchronisation" x="598" y="-172">syncChan3?</label><label kind="assignment" x="598" y="-157">isActive = false</label><nail x="527" y="-198"/><nail x="540" y="-203"/><nail x="555" y="-199"/><nail x="555" y="-184"/><nail x="555" y="-172"/><nail x="546" y="-167"/><nail x="536" y="-167"/></transition><transition><source ref="id166"/><target ref="id166"/><label kind="synchronisation" x="369" y="-706">syncChan3?</label><label kind="assignment" x="369" y="-691">isActive = false</label><nail x="266" y="-733"/><nail x="296" y="-737"/><nail x="326" y="-732"/><nail x="326" y="-718"/><nail x="326" y="-705"/><nail x="303" y="-700"/><nail x="276" y="-701"/></transition><transition><source ref="id170"/><target ref="id165"/><label kind="synchronisation" x="189" y="-350">remPassageDeniedTo[DIVERGENT]!</label><nail x="155" y="-432"/><nail x="186" y="-399"/><nail x="250" y="-332"/><nail x="250" y="-332"/><nail x="250" y="-332"/><nail x="411" y="-239"/><nail x="480" y="-200"/></transition><transition><source ref="id171"/><target ref="id166"/><label kind="synchronisation" x="360" y="-808">lockRequestTo[DIVERGENT]!</label><nail x="493" y="-879"/><nail x="433" y="-849"/><nail x="304" y="-785"/><nail x="237" y="-752"/></transition><transition><source ref="id172"/><target ref="id165"/><label kind="synchronisation" x="392" y="-304">remPassageDeniedTo[DIVERGENT]!</label><nail x="402" y="-343"/><nail x="423" y="-312"/><nail x="469" y="-245"/><nail x="493" y="-209"/></transition><transition><source ref="id173"/><target ref="id165"/><label kind="synchronisation" x="616" y="-336">remPassageAllowedTo[DIVERGENT]!</label><nail x="646" y="-343"/><nail x="618" y="-311"/><nail x="560" y="-243"/><nail x="529" y="-207"/></transition><transition><source ref="id174"/><target ref="id165"/><label kind="synchronisation" x="1224" y="-728">remPassageDeniedTo[DIVERGENT]!</label><nail x="1164" y="-788"/><nail x="1195" y="-733"/><nail x="1284" y="-570"/><nail x="1284" y="-570"/><nail x="1284" y="-570"/><nail x="685" y="-271"/><nail x="541" y="-199"/></transition></template><system>system 
HandlerStraightOfStraightTurnout, 
RemSectionLockFromOtherHalfOfStraightTurnout, 
SectionLockFromOtherHalfOfDivergentTurnout, 
RemSectionLockFromOtherHalfOfDivergentTurnout, 
SectionLockFromStraightOfStraightTurnout, 
HandlerDivergentOfDivergentTurnout, 
RemSectionLockFromStraightOfStraightTurnout, 
mainregionOfStatechart, 
RemShortSectionLockFromStraightOfStraightTurnout, 
SectionLockFromOtherHalfOfStraightTurnout, 
RemSectionLockFromDivergentOfDivergentTurnout, 
SectionLockFromDivergentOfDivergentTurnout, 
RemShortSectionLockFromDivergentOfDivergentTurnout;
</system></nta>